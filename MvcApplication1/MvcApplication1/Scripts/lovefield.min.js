/*
  Copyright 2014 The Lovefield Project Authors. All Rights Reserved.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
*/
(function(){'use strict';var aa=window,ba=Object,ca=Function,da=document,ea=Math,e=Array,fa=Error,ga=parseInt,ha=String;function ia(a,b){return a.exec=b}function ja(a,b){return a.getName=b}function ka(a,b){return a.remove=b}function la(a,b){return a.forEach=b}function ma(a,b){return a.values=b}function na(a,b){return a.clear=b}function oa(a,b){return a.bind=b}function f(a,b){return a.toString=b}function pa(a,b){return a.table=b}function qa(a,b){return a.dump=b}function ra(a,b){return a.next=b}
function sa(a,b){return a.close=b}function ta(a,b){return a.clone=b}function ua(a,b){return a.child=b}function va(a,b){return a.onerror=b}function wa(a,b){return a.value=b}function xa(a,b){return a.getPriority=b}function ya(a,b){return a.delete=b}function za(a,b){return a.subscribe=b}function Aa(a,b){return a.name=b}function Ba(a,b){return a.length=b}function Ca(a,b){return a.onsuccess=b}function Da(a,b){return a.update=b}
var Ea="context",h="filter",Fa="version",Ga="getParent",Ha="shift",Ia="exec",Ja="replace",Ka="concat",La="objectStoreNames",l="getName",n="remove",Ma="orderByChild",Na="autoIncrement",q="forEach",Oa="values",Pa="clear",r="bind",Qa="getTime",Ra="continue",t="toString",Sa="global",Ua="propertyIsEnumerable",Va="create",u="table",Wa="compare",Xa="result",Ya="size",Za="index",$a="next",ab="split",bb="hasOwnProperty",cb="close",db="once",eb="setImmediate",fb="transaction",gb="child",hb="rows",ib="contains",
jb="apply",v="push",kb="reject",lb="reduce",mb="addAll",w="slice",x="value",nb="item",ob="objectStore",pb="indexOf",qb="getPriority",rb="delete",sb="name",y="length",z="prototype",tb="timing",A="then",C="entries",ub="removeChild",vb="openCursor",wb="target",D="call",xb="resolve",yb="some",zb="sort",Ab="every",Bb="update",E="splice",F="join",Cb="unshift";function Db(){return function(){}}function Eb(a){return function(b){this[a]=b}}function G(a){return function(){return this[a]}}
function Fb(a){return function(){return a}}var H,Gb=this;function Hb(a){return void 0!==a}function I(a,b,c){a=a[ab](".");c=c||Gb;a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var d;a[y]&&(d=a[Ha]());)!a[y]&&Hb(b)?c[d]=b:c=c[d]?c[d]:c[d]={}}function Ib(){}function Jb(a){a.ye=function(){return a.cg?a.cg:a.cg=new a}}
function Kb(a){var b=typeof a;if("object"==b)if(a){if(a instanceof e)return"array";if(a instanceof ba)return b;var c=ba[z][t][D](a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a[y]&&"undefined"!=typeof a[E]&&"undefined"!=typeof a[Ua]&&!a[Ua]("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a[D]&&"undefined"!=typeof a[Ua]&&!a[Ua]("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a[D])return"object";return b}
function Lb(a){return null===a}function Mb(a){return null!=a}function Nb(a){var b=Kb(a);return"array"==b||"object"==b&&"number"==typeof a[y]}function Ob(a){return"string"==typeof a}function Pb(a){return"function"==Kb(a)}function Qb(a){return a[Rb]||(a[Rb]=++Sb)}var Rb="closure_uid_"+(1E9*ea.random()>>>0),Sb=0;function Tb(a,b,c){return a[D][jb](a[r],arguments)}
function Ub(a,b,c){if(!a)throw fa();if(2<arguments[y]){var d=e[z][w][D](arguments,2);return function(){var c=e[z][w][D](arguments);e[z][Cb][jb](c,d);return a[jb](b,c)}}return function(){return a[jb](b,arguments)}}function J(a,b,c){J=ca[z][r]&&-1!=ca[z][r][t]()[pb]("native code")?Tb:Ub;return J[jb](null,arguments)}function Vb(a,b){var c=e[z][w][D](arguments,1);return function(){var b=c[w]();b[v][jb](b,arguments);return a[jb](this,b)}}
function K(a,b){function c(){}c.prototype=b[z];a.gb=b[z];a.prototype=new c;a[z].constructor=a;a.bl=function(a,c,k){for(var m=e(arguments[y]-2),p=2;p<arguments[y];p++)m[p-2]=arguments[p];return b[z][c][jb](a,m)}}oa(ca[z],ca[z][r]||function(a,b){if(1<arguments[y]){var c=e[z][w][D](arguments,1);c[Cb](this,a);return J[jb](null,c)}return J(this,a)});function Wb(a){if(fa.captureStackTrace)fa.captureStackTrace(this,Wb);else{var b=fa().stack;b&&(this.stack=b)}a&&(this.message=ha(a))}K(Wb,fa);Aa(Wb[z],"CustomError");function Xb(a,b){for(var c=a[ab]("%s"),d="",g=e[z][w][D](arguments,1);g[y]&&1<c[y];)d+=c[Ha]()+g[Ha]();return d+c[F]("%s")};function Yb(a,b){b[Cb](a);Wb[D](this,Xb[jb](null,b));b[Ha]()}K(Yb,Wb);Aa(Yb[z],"AssertionError");function Zb(a,b,c,d){var g="Assertion failed";if(c)var g=g+(": "+c),k=d;else a&&(g+=": "+a,k=b);throw new Yb(""+g,k||[]);}function L(a,b,c){a||Zb("",null,b,e[z][w][D](arguments,2));return a}function $b(a,b){throw new Yb("Failure"+(a?": "+a:""),e[z][w][D](arguments,1));}function ac(a,b,c){Pb(a)||Zb("Expected function but got %s: %s.",[Kb(a),a],b,e[z][w][D](arguments,2));return a};function bc(a,b,c){this.Rj=c;this.gi=a;this.Ak=b;this.Pd=0;this.Id=null}bc[z].get=function(){var a;0<this.Pd?(this.Pd--,a=this.Id,this.Id=a[$a],ra(a,null)):a=this.gi();return a};bc[z].put=function(a){this.Ak(a);this.Pd<this.Rj&&(this.Pd++,ra(a,this.Id),this.Id=a)};var cc=e[z],dc=cc[pb]?function(a,b,c){L(null!=a[y]);return cc[pb][D](a,b,c)}:function(a,b,c){c=null==c?0:0>c?ea.max(0,a[y]+c):c;if(Ob(a))return Ob(b)&&1==b[y]?a[pb](b,c):-1;for(;c<a[y];c++)if(c in a&&a[c]===b)return c;return-1},ec=cc[q]?function(a,b,c){L(null!=a[y]);cc[q][D](a,b,c)}:function(a,b,c){for(var d=a[y],g=Ob(a)?a[ab](""):a,k=0;k<d;k++)k in g&&b[D](c,g[k],k,a)},fc=cc.map?function(a,b,c){L(null!=a[y]);return cc.map[D](a,b,c)}:function(a,b,c){for(var d=a[y],g=e(d),k=Ob(a)?a[ab](""):a,m=0;m<
d;m++)m in k&&(g[m]=b[D](c,k[m],m,a));return g},gc=cc[lb]?function(a,b,c,d){L(null!=a[y]);d&&(b=J(b,d));return cc[lb][D](a,b,c)}:function(a,b,c,d){var g=c;ec(a,function(c,m){g=b[D](d,g,c,m,a)});return g},hc=cc[yb]?function(a,b,c){L(null!=a[y]);return cc[yb][D](a,b,c)}:function(a,b,c){for(var d=a[y],g=Ob(a)?a[ab](""):a,k=0;k<d;k++)if(k in g&&b[D](c,g[k],k,a))return!0;return!1},ic=cc[Ab]?function(a,b,c){L(null!=a[y]);return cc[Ab][D](a,b,c)}:function(a,b,c){for(var d=a[y],g=Ob(a)?a[ab](""):a,k=0;k<
d;k++)if(k in g&&!b[D](c,g[k],k,a))return!1;return!0};function jc(a,b){L(null!=a[y]);return 1==cc[E][D](a,b,1)[y]}function kc(a,b,c){a:{for(var d=a[y],g=Ob(a)?a[ab](""):a,k=0;k<d;k++)if(k in g&&b[D](c,g[k],k,a)){b=k;break a}b=-1}return 0<=b?(jc(a,b),!0):!1}function lc(a){var b=a[y];if(0<b){for(var c=e(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}
function mc(a,b){for(var c=1;c<arguments[y];c++){var d=arguments[c];if(Nb(d)){var g=a[y]||0,k=d[y]||0;Ba(a,g+k);for(var m=0;m<k;m++)a[g+m]=d[m]}else a[v](d)}}function nc(a,b,c,d){L(null!=a[y]);return cc[E][jb](a,oc(arguments,1))}function oc(a,b,c){L(null!=a[y]);return 2>=arguments[y]?cc[w][D](a,b):cc[w][D](a,b,c)}function pc(a,b,c,d,g){for(var k=0,m=a[y],p;k<m;){var B=k+m>>1,Ta;Ta=c?b[D](g,a[B],B,a):b(d,a[B]);0<Ta?k=B+1:(m=B,p=!Ta)}return p?k:~k}function qc(a,b){return a>b?1:a<b?-1:0}
function rc(a,b,c){c=pc(a,c||qc,!1,b);return 0>c?(nc(a,-(c+1),0,b),!0):!1}function sc(a,b){for(var c=[],d=0;d<b;d++)c[d]=a;return c}function tc(a){for(var b=[],c=0;c<arguments[y];c++){var d=arguments[c];if("array"==Kb(d))for(var g=0;g<d[y];g+=8192)for(var k=oc(d,g,g+8192),k=tc[jb](null,k),m=0;m<k[y];m++)b[v](k[m]);else b[v](d)}return b};function uc(a,b,c){for(var d in a)b[D](c,a[d],d,a)}function vc(a,b,c){for(var d in a)if(b[D](c,a[d],d,a))return!0;return!1}function wc(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function xc(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b};var yc;a:{var zc=Gb.navigator;if(zc){var Ac=zc.userAgent;if(Ac){yc=Ac;break a}}yc=""};function Bc(a){Gb.setTimeout(function(){throw a;},0)}var Cc;
function Dc(){var a=Gb.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof aa&&aa.postMessage&&aa.addEventListener&&-1==yc[pb]("Presto")&&(a=function(){var a=da.createElement("IFRAME");a.style.display="none";a.src="";da.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a[cb]();var c="callImmediate"+ea.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=J(function(a){if(("*"==d||a.origin==d)&&a.data==c)this.port1.onmessage()},
this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&-1==yc[pb]("Trident")&&-1==yc[pb]("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(Hb(c[$a])){c=c[$a];var a=c.zf;c.zf=null;a()}};return function(a){ra(d,{zf:a});d=d[$a];b.port2.postMessage(0)}}return"undefined"!==typeof da&&"onreadystatechange"in da.createElement("SCRIPT")?function(a){var b=da.createElement("SCRIPT");b.onreadystatechange=function(){b.onreadystatechange=
null;b.parentNode[ub](b);b=null;a();a=null};da.documentElement.appendChild(b)}:function(a){Gb.setTimeout(a,0)}};function Ec(){this.de=this.gc=null}var Gc=new bc(function(){return new Fc},function(a){a.reset()},100);Ec[z].add=function(a,b){var c=this.uj();c.set(a,b);this.de?ra(this.de,c):(L(!this.gc),this.gc=c);this.de=c};ka(Ec[z],function(){var a=null;this.gc&&(a=this.gc,this.gc=this.gc[$a],this.gc||(this.de=null),ra(a,null));return a});Ec[z].Bk=function(a){Gc.put(a)};Ec[z].uj=function(){return Gc.get()};function Fc(){this.scope=this.te=null;ra(this,null)}
Fc[z].set=function(a,b){this.te=a;this.scope=b;ra(this,null)};Fc[z].reset=function(){this.scope=this.te=null;ra(this,null)};function Hc(a,b){Ic||Jc();Kc||(Ic(),Kc=!0);Lc.add(a,b)}var Ic;function Jc(){if(Gb.Promise&&Gb.Promise[xb]){var a=Gb.Promise[xb]();Ic=function(){a[A](Mc)}}else Ic=function(){var a=Mc;if(!Pb(Gb[eb])||Gb.Window&&Gb.Window[z]&&Gb.Window[z][eb]==Gb[eb])Cc||(Cc=Dc()),Cc(a);else Gb[eb](a)}}var Kc=!1,Lc=new Ec;[][v](function(){Kc=!1;Lc=new Ec});function Mc(){for(var a=null;a=Lc[n]();){try{a.te[D](a.scope)}catch(b){Bc(b)}Lc.Bk(a)}Kc=!1};function M(a,b){this.Ja=0;this.Ig=void 0;this.nd=this.lc=this.C=null;this.Hd=this.re=!1;if(a!=Ib)try{var c=this;a[D](b,function(a){c.yc(2,a)},function(a){if(!(a instanceof Nc))try{if(a instanceof fa)throw a;throw fa("Promise rejected.");}catch(b){}c.yc(3,a)})}catch(d){this.yc(3,d)}}function Oc(){ua(this,null);this.context=this.wc=this.Vb=null;ra(this,null);this.ge=!1}Oc[z].reset=function(){ua(this,null);this.context=this.wc=this.Vb=null;this.ge=!1};
var Pc=new bc(function(){return new Oc},function(a){a.reset()},100);function Qc(a,b,c){var d=Pc.get();d.Vb=a;d.wc=b;d.context=c;return d}function Rc(a){if(a instanceof M)return a;var b=new M(Ib);b.yc(2,a);return b}function Sc(a){return new M(function(b,c){c(a)})}function Tc(a,b,c){Uc(a,b,c,null)||Hc(Vb(b,a))}function Vc(a){return new M(function(b,c){var d=a[y],g=[];if(d)for(var k=function(a,c){d--;g[a]=c;0==d&&b(g)},m=function(a){c(a)},p=0,B;B=a[p];p++)Tc(B,Vb(k,p),m);else b(g)})}
function Wc(){var a,b,c=new M(function(c,g){a=c;b=g});return new Xc(c,a,b)}M[z].then=function(a,b,c){null!=a&&ac(a,"opt_onFulfilled should be a function.");null!=b&&ac(b,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?");return this.of(Pb(a)?a:null,Pb(b)?b:null,c)};M[z].then=M[z][A];M[z].$goog_Thenable=!0;H=M[z];
H.Rk=function(a,b,c){null!=a&&ac(a,"opt_onFulfilled should be a function.");null!=b&&ac(b,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?");this.nf(Qc(a||Ib,b||null,c))};H.Ug=function(a,b){return this.of(null,a,b)};H.nf=function(a){this.Ej()||2!=this.Ja&&3!=this.Ja||this.Lg();this.rk(a)};
H.of=function(a,b,c){var d=Qc(null,null,null);ua(d,new M(function(g,k){d.Vb=a?function(b){try{var d=a[D](c,b);g(d)}catch(B){k(B)}}:g;d.wc=b?function(a){try{var d=b[D](c,a);!Hb(d)&&a instanceof Nc?k(a):g(d)}catch(B){k(B)}}:k}));d[gb].C=this;this.nf(d);return d[gb]};H.Uk=function(a){L(1==this.Ja);this.Ja=0;this.yc(2,a)};H.Vk=function(a){L(1==this.Ja);this.Ja=0;this.yc(3,a)};
H.yc=function(a,b){0==this.Ja&&(this==b&&(a=3,b=new TypeError("Promise cannot resolve to itself")),this.Ja=1,Uc(b,this.Uk,this.Vk,this)||(this.Ig=b,this.Ja=a,this.C=null,this.Lg(),3!=a||b instanceof Nc||Yc(this,b)))};
function Uc(a,b,c,d){if(a instanceof M)return a.Rk(b,c,d),!0;var g;if(a)try{g=!!a.$goog_Thenable}catch(k){g=!1}else g=!1;if(g)return a[A](b,c,d),!0;g=typeof a;if("object"==g&&null!=a||"function"==g)try{var m=a[A];if(Pb(m))return Zc(a,m,b,c,d),!0}catch(p){return c[D](d,p),!0}return!1}function Zc(a,b,c,d,g){function k(a){p||(p=!0,d[D](g,a))}function m(a){p||(p=!0,c[D](g,a))}var p=!1;try{b[D](a,m,k)}catch(B){k(B)}}H.Lg=function(){this.re||(this.re=!0,Hc(this.Ci,this))};H.Ej=function(){return!!this.lc};
H.rk=function(a){L(null!=a.Vb);this.nd?ra(this.nd,a):this.lc=a;this.nd=a};H.jk=function(){var a=null;this.lc&&(a=this.lc,this.lc=a[$a],ra(a,null));this.lc||(this.nd=null);null!=a&&L(null!=a.Vb);return a};H.Ci=function(){for(var a=null;a=this.jk();)this.Bi(a,this.Ja,this.Ig);this.re=!1};H.Bi=function(a,b,c){3==b&&a.wc&&!a.ge&&this.yk();if(a[gb])a[gb].C=null,$c(a,b,c);else try{a.ge?a.Vb[D](a[Ea]):$c(a,b,c)}catch(d){ad[D](null,d)}Pc.put(a)};
function $c(a,b,c){2==b?a.Vb[D](a[Ea],c):a.wc&&a.wc[D](a[Ea],c)}H.kh=Db();H.yk=function(){var a;for(a=this;a&&a.Hd;a=a.C)a.Hd=!1};function Yc(a,b){a.Hd=!0;Hc(function(){a.Hd&&(a.kh(b),ad[D](null,b))})}var ad=Bc;function Nc(a){Wb[D](this,a)}K(Nc,Wb);Aa(Nc[z],"cancel");function Xc(a,b,c){this.ga=a;this.resolve=b;this.reject=c};
function bd(a,b){this.ya=a;this.Yb=b||this.Hf()}var cd=0;H=bd[z];H.id=G("ya");H.sh=Eb("ya");H.u=G("Yb");H.Hf=function(){return{}};H.Vg=G("Yb");H.Ia=function(){return{id:this.ya,value:this.Vg()}};H.Yc=function(a){return"#"==a.substr(-1)?this.ya:null};function dd(a){return new bd(a.id,a[x])}function ed(a){return new bd(cd++,a||{})}function fd(a){if(null==a)return"";a=new Uint8Array(a);for(var b="",c=0;c<a[y];++c)var d=a[c][t](16),b=b+(2>d[y]?"0"+d:d);return b};
function gd(a){this.type=a}function hd(a){bd[D](this,-1,a)}K(hd,bd);
var id={};I("lf.TransactionType",id,void 0);id.READ_ONLY=0;id.READ_WRITE=1;

function jd(a,b){this.Sa=a;this.Wg=b;this.ca=Wc()}H=jd[z];H.fj=G("Sa");H.V=function(){try{this.Sa.Fh()}catch(a){return Sc(a)}return(0==this.Wg?Rc():this.Wj())[A](J(function(){this.Sa.V()},this))};H.Wj=function(){this.Xj();this.Vj();return this.ca.ga};
H.Xj=function(){var a=this.Sa.Rf();a.H()[q](function(b){var c=this.Sa.fa().get(b),c=this.X(c[l](),J(c.oc,c));b=a.get(b);var d=b.Rc().c().map(function(a){return a.id()});0<d[y]&&c[n](d).Ug(this.Fe,this);b=b.Bd().c().map(function(a){return a[1]})[Ka](b.Qc().c());c.put(b).Ug(this.Fe,this)},this)};H.Vj=function(){this.Sa.cj()[q](function(a){var b=this.X(a[l](),dd),c;b.get([-1])[A](function(a){c=a;return b[n]([])})[A](function(){b.put(c);b.put(a.Ia())},J(this.Fe,this))},this)};H.Fe=function(a){this.ca[kb](a)};function kd(a,b,c,d){c=c||function(a,b){return a==b};d=d||function(b){return a[b]};for(var g=a[y],k=b[y],m=[],p=0;p<g+1;p++)m[p]=[],m[p][0]=0;for(var B=0;B<k+1;B++)m[0][B]=0;for(p=1;p<=g;p++)for(B=1;B<=k;B++)c(a[p-1],b[B-1])?m[p][B]=m[p-1][B-1]+1:m[p][B]=ea.max(m[p-1][B],m[p][B-1]);for(var Ta=[],p=g,B=k;0<p&&0<B;)c(a[p-1],b[B-1])?(Ta[Cb](d(p-1,B-1)),p--,B--):m[p-1][B]>m[p][B-1]?p--:B--;return Ta}function ld(a){return gc(arguments,function(a,c){return a+c},0)}
function md(a){return ld[jb](null,arguments)/arguments[y]}function nd(a){var b=arguments[y];if(2>b)return 0;var c=md[jb](null,arguments);return ld[jb](null,fc(arguments,function(a){return ea.pow(a-c,2)}))/(b-1)}function od(a){return ea.sqrt(nd[jb](null,arguments))};var pd="StopIteration"in Gb?Gb.StopIteration:{message:"StopIteration",stack:""};function qd(){}ra(qd[z],function(){throw pd;});qd[z].Bc=function(){return this};function rd(a){if(a instanceof qd)return a;if("function"==typeof a.Bc)return a.Bc(!1);if(Nb(a)){var b=0,c=new qd;ra(c,function(){for(;;){if(b>=a[y])throw pd;if(b in a)return a[b++];b++}});return c}throw fa("Not implemented");}
function sd(a,b,c){if(Nb(a))try{ec(a,b,c)}catch(d){if(d!==pd)throw d;}else{a=rd(a);try{for(;;)b[D](c,a[$a](),void 0,a)}catch(g){if(g!==pd)throw g;}}}function td(a){if(hc(arguments,function(a){return!a[y]})||!arguments[y])return new qd;var b=new qd,c=arguments,d=sc(0,c[y]);ra(b,function(){if(d){for(var a=fc(d,function(a,b){return c[b][a]}),b=d[y]-1;0<=b;b--){L(d);if(d[b]<c[b][y]-1){d[b]++;break}if(0==b){d=null;break}d[b]=0}return a}throw pd;});return b};function N(a,b){this.g={};this.b=[];this.Pa=this.aa=0;var c=arguments[y];if(1<c){if(c%2)throw fa("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this[mb](a)}H=N[z];H.ra=G("aa");H.c=function(){this.Gc();for(var a=[],b=0;b<this.b[y];b++)a[v](this.g[this.b[b]]);return a};H.H=function(){this.Gc();return this.b[Ka]()};H.A=function(a){return ud(this.g,a)};H.rd=function(a){for(var b=0;b<this.b[y];b++){var c=this.b[b];if(ud(this.g,c)&&this.g[c]==a)return!0}return!1};
H.Mc=function(a,b){if(this===a)return!0;if(this.aa!=a.ra())return!1;var c=b||vd;this.Gc();for(var d,g=0;d=this.b[g];g++)if(!c(this.get(d),a.get(d)))return!1;return!0};function vd(a,b){return a===b}H.Fa=function(){return 0==this.aa};na(H,function(){this.g={};Ba(this.b,0);this.Pa=this.aa=0});ka(H,function(a){return ud(this.g,a)?(delete this.g[a],this.aa--,this.Pa++,this.b[y]>2*this.aa&&this.Gc(),!0):!1});
H.Gc=function(){if(this.aa!=this.b[y]){for(var a=0,b=0;a<this.b[y];){var c=this.b[a];ud(this.g,c)&&(this.b[b++]=c);a++}Ba(this.b,b)}if(this.aa!=this.b[y]){for(var d={},b=a=0;a<this.b[y];)c=this.b[a],ud(d,c)||(this.b[b++]=c,d[c]=1),a++;Ba(this.b,b)}};H.get=function(a,b){return ud(this.g,a)?this.g[a]:b};H.set=function(a,b){ud(this.g,a)||(this.aa++,this.b[v](a),this.Pa++);this.g[a]=b};H.addAll=function(a){var b;a instanceof N?(b=a.H(),a=a.c()):(b=xc(a),a=wc(a));for(var c=0;c<b[y];c++)this.set(b[c],a[c])};
la(H,function(a,b){for(var c=this.H(),d=0;d<c[y];d++){var g=c[d],k=this.get(g);a[D](b,k,g,this)}});ta(H,function(){return new N(this)});H.Bc=function(a){this.Gc();var b=0,c=this.Pa,d=this,g=new qd;ra(g,function(){if(c!=d.Pa)throw fa("The map has changed since the iterator was created");if(b>=d.b[y])throw pd;var g=d.b[b++];return a?g:d.g[g]});return g};function ud(a,b){return ba[z][bb][D](a,b)};
function wd(a){this.Ck=a}f(wd[z],G("Ck"));var xd=new wd("backstore"),yd=new wd("cache"),zd=new wd("indexstore"),Ad=new wd("engine"),Bd=new wd("runner"),Cd=new wd("observerregistry"),Dd=new wd("schema");
function Ed(a){if("function"==typeof a.ra)a=a.ra();else if(Nb(a)||Ob(a))a=a[y];else{var b=0,c;for(c in a)b++;a=b}return a}function Fd(a){if("function"==typeof a.c)return a.c();if(Ob(a))return a[ab]("");if(Nb(a)){for(var b=[],c=a[y],d=0;d<c;d++)b[v](a[d]);return b}return wc(a)}
function Gd(a,b,c){if("function"==typeof a[Ab])return a[Ab](b,c);if(Nb(a)||Ob(a))return ic(a,b,c);var d;if("function"==typeof a.H)d=a.H();else if("function"!=typeof a.c)if(Nb(a)||Ob(a)){d=[];for(var g=a[y],k=0;k<g;k++)d[v](k)}else d=xc(a);else d=void 0;for(var g=Fd(a),k=g[y],m=0;m<k;m++)if(!b[D](c,g[m],d&&d[m],a))return!1;return!0};function O(a){this.g=new N;a&&this[mb](a)}function Hd(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+Qb(a):b.substr(0,1)+a}H=O[z];H.ra=function(){return this.g.ra()};H.add=function(a){this.g.set(Hd(a),a)};H.addAll=function(a){a=Fd(a);for(var b=a[y],c=0;c<b;c++)this.add(a[c])};ka(H,function(a){return this.g[n](Hd(a))});na(H,function(){this.g[Pa]()});H.Fa=function(){return this.g.Fa()};H.contains=function(a){return this.g.A(Hd(a))};H.$h=function(a){return Gd(a,this[ib],this)};H.c=function(){return this.g.c()};
ta(H,function(){return new O(this)});H.Mc=function(a){return this.ra()==Ed(a)&&this.Oj(a)};H.Oj=function(a){var b=Ed(a);if(this.ra()>b)return!1;!(a instanceof O)&&5<b&&(a=new O(a));return Gd(this,function(b){var d=a;if("function"==typeof d[ib])b=d[ib](b);else if("function"==typeof d.rd)b=d.rd(b);else if(Nb(d)||Ob(d))b=0<=dc(d,b);else a:{for(var g in d)if(d[g]==b){b=!0;break a}b=!1}return b})};H.Bc=function(){return this.g.Bc(!1)};
function Id(a,b){this.ya=a;this.Yb=b||{}}function Jd(a){var b=new O;a[q](function(a){b.add(a>>9)});return b.c()}H=Id[z];H.ka=G("ya");H.tc=G("Yb");H.Og=function(a){a[q](function(a){this.Yb[a.id()]=a.Ia()},this)};H.xk=function(a){a[q](function(a){var c=this.Yb;a in c&&delete c[a]},this)};H.Ia=function(){return{id:this.ya,value:JSON.stringify(this.Yb)}};function Kd(a){return new Id(a.id,JSON.parse(a[x]))};

function Ld(a,b,c){this.S=a;this.Pb=b;this.Jg=c}H=Ld[z];H.get=function(a){return 0==a[y]?this.we():this.jj(a)[A](J(function(b){return a.map(function(a){var d=b.get(a>>9);L(d,"Containing page is empty");return this.Pb(d.tc()[a])},this)},this))};H.jj=function(a){var b=new N,c=Wc();a=Jd(a).map(function(a){return new M(function(c,k){var m;try{m=this.S.get(a)}catch(p){k(p);return}va(m,k);Ca(m,J(function(a){a=Kd(a[wb][Xa]);b.set(a.ka(),a);c()},this))},this)},this);Vc(a)[A](function(){c[xb](b)});return c.ga};
H.we=function(){return new M(function(a,b){var c=[],d;try{d=this.S[vb]()}catch(g){b(g);return}va(d,b);Ca(d,J(function(){var b=d[Xa];if(b){var g=Kd(b[x]).tc(),p;for(p in g)c[v](this.Pb(g[p]));b[Ra]()}else a(c)},this))},this)};H.Zb=function(a){return new M(function(b,c){var d;try{d=a()}catch(g){c(g);return}Ca(d,b);va(d,c)},this)};
H.put=function(a){if(0==a[y])return Rc();var b=new N;a[q](function(a){var d;d=a.id()>>9;var g=b.get(d,null);null===g&&(g=this.Jg(this.S[sb],d));g.Og([a]);b.set(d,g)},this);a=b.c().map(function(a){return this.Zb(J(function(){return this.S.put(a.Ia())},this))},this);return Vc(a)};
ka(H,function(a){if(0==a[y])return this.Zb(J(function(){return this.S[Pa]()},this));var b=new N;a[q](function(a){var d=a>>9,g=b.get(d,null);null===g&&(g=this.Jg(this.S[sb],d));g.xk([a]);b.set(d,g)},this);a=b.c().map(function(a){return this.Zb(J(function(){var b;a:{b=a.tc();for(var g in b){b=!1;break a}b=!0}return b?this.S[rb](a.ka()):this.S.put(a.Ia())},this))},this);return Vc(a)});function Md(a,b,c){a=a.o(yd);var d=[c<<9,(c+1<<9)-1];b=a.ab(b,d[0],d[1]);c=new Id(c);c.Og(b);return c}
function Nd(a,b){return new Id(b)};
function Od(){};
function Pd(a){this.qa=a.o(yd);this.I=a.o(zd);this.s=a.o(Dd)}Da(Pd[z],function(a){a[q](function(a){this.Yk(a);this.Wk(a)},this)});Pd[z].Wk=function(a){var b=a[l]();a.Rc().c()[q](function(a){this.qa[n](b,[a.id()])},this);a.Qc()[q](function(a){this.qa.set(b,[a])},this);a.Bd()[q](function(a){this.qa.set(b,[a[1]])},this)};Pd[z].Yk=function(a){var b=this.s[u](a[l]());a.aj()[q](function(a){this.$g(b,a)},this)};
Pd[z].$g=function(a,b){a.Da().map(function(a){return this.I.get(a.l())},this)[Ka]([this.I.get(a.Rb())])[q](function(a){var d=null===b[1]?null:b[1].Yc(a[l]()),g=null===b[0]?null:b[0].Yc(a[l]());null===g&&null!==d?a.add(d,b[1].id()):null===g||null===d?null!==g&&null===d&&a[n](g,b[0].id()):0!=a.Ic()[Wa](g,d)&&(a.add(d,b[1].id()),a[n](g,b[0].id()))})};
var Qd={};I("lf.ConstraintAction",Qd,void 0);Qd.RESTRICT=0;Qd.CASCADE=1;var Rd={};I("lf.ConstraintTiming",Rd,void 0);Rd.IMMEDIATE=0;Rd.DEFERRABLE=1;var Sd={};I("lf.Order",Sd,void 0);Sd.DESC=0;Sd.ASC=1;var Td={};I("lf.Type",Td,void 0);Td.ARRAY_BUFFER=0;Td.BOOLEAN=1;Td.DATE_TIME=2;Td.INTEGER=3;Td.NUMBER=4;Td.STRING=5;Td.OBJECT=6;var Ud={0:null,1:!1,2:ba.freeze(new Date(0)),3:0,4:0,5:"",6:null};I("lf.type.DEFAULT_VALUES",Ud,void 0);
function P(a,b){this.code=a;this.message="http://sn.im/2a0j3wn?c="+a;if(1<arguments[y])for(var c=1;c<=ea.min(4,arguments[y]-1);++c)this.message+="&p"+(c-1)+"="+encodeURIComponent(ha(arguments[c][t]()[w](0,64)))}K(P,fa);
function Vd(a){this.I=a.o(zd);this.s=a.o(Dd)}H=Vd[z];H.Ji=function(a,b){var c=a.Gb().Be();return null===c?null:this.Ii(c,b)};H.Ii=function(a,b){var c=a.l(),d=b.Yc(c),c=this.I.get(c).get(d);return 0==c[y]?null:c[0]};H.le=function(a,b){var c=a.Gb().hj();b[q](function(a){c[q](function(b){if(null===a.u()[b[l]()])throw new P(202,b.l());},this)},this)};H.Cf=function(a,b,c){a.Gb().Sf()[q](function(a){a[tb]==c&&this.Qh(a,b)},this)};
H.Qh=function(a,b){var c=this.s[u](a.Xb)[a.Ib].Da()[h](function(b){return 1==b.h[y]&&b.h[0].ma[l]()==a.Ib})[0],d=this.I.get(c.l());b[q](function(b){if(!d.A(b.u()[a.Cb]))throw new P(203,a.Fb);})};H.Df=function(a,b,c){a=a.nj();null!=a&&a[q](function(a){if(a[tb]==c){var g=this.I.get(a.Fb);b[q](function(b){if(g.A(b.u()[a.Ib]))throw new P(203,a.Fb);})}},this)};
function Wd(a){this.ib=new N;this.Ka=new N;this.lb=new N;this.B=a}H=Wd[z];ja(H,G("B"));H.Qc=G("ib");H.Bd=G("Ka");H.Rc=G("lb");H.add=function(a){if(this.lb.A(a.id())){var b=[this.lb.get(a.id()),a];this.Ka.set(a.id(),b);this.lb[n](a.id())}else this.ib.set(a.id(),a)};H.modify=function(a){var b=a[0],c=a[1];L(b.id()==c.id(),"Row ID mismatch between old/new values.");b=b.id();this.ib.A(b)?this.ib.set(b,c):(this.Ka.A(b)&&(a=[this.Ka.get(a[0].id())[0],c]),this.Ka.set(b,a))};
ya(H,function(a){if(this.ib.A(a.id()))this.ib[n](a.id());else if(this.Ka.A(a.id())){var b=this.Ka.get(a.id())[0];this.Ka[n](a.id());this.lb.set(a.id(),b)}else this.lb.set(a.id(),a)});H.aj=function(){var a=[];this.ib.c()[q](function(b){a[v]([null,b])},this);this.Ka.c()[q](function(b){a[v](b)},this);this.lb.c()[q](function(b){a[v]([b,null])},this);return a};f(H,function(){return"["+this.ib.H()[t]()+"], ["+this.Ka.H()[t]()+"], ["+this.lb.H()[t]()+"]"});
H.oj=function(){var a=new Wd(this.B);this.ib.c()[q](function(b){a[rb](b)},this);this.lb.c()[q](function(b){a.add(b)},this);this.Ka.c()[q](function(b){a.modify([b[1],b[0]])},this);return a};H.Fa=function(){return this.ib.Fa()&&this.lb.Fa()&&this.Ka.Fa()};
function Xd(a,b){this.pa=new N;b[q](function(a){this.pa.set(a[l](),a)},this);this.qa=a.o(yd);this.I=a.o(zd);this.Db=new Vd(a);this.Jd=new Pd(a);this.Te=this.$d=!1;this.Ab=new N}H=Xd[z];H.Rf=G("Ab");H.cj=function(){var a=[];this.Ab.H().map(function(a){return this.pa.get(a)},this)[q](function(b){b.$b()&&(b.Da()[q](function(b){a[v](this.I.get(b.l()))},this),a[v](this.I.get(b[l]()+".#")))},this);return a};H.fa=G("pa");
H.dj=function(){var a=[];this.pa.c()[q](function(b){b.$b()&&(b.Da()[q](function(b){a[v](b.l())}),a[v](b[l]()+".#"))});return a};H.wb=function(a,b){this.Fc();this.od(a);this.Db.le(a,b);this.Db.Cf(a,b,0);for(var c=0;c<b[y];c++)this.Kd(a,null,b[c])};
H.Kd=function(a,b,c){var d=a[l](),g=this.Ab.get(d,null)||new Wd(d);this.Ab.set(d,g);var k=[b,c];try{this.Jd.$g(a,k)}catch(m){throw this.Te=!0,m;}null===b&&null!==c?(this.qa.set(d,[c]),g.add(c)):null!==b&&null!==c?(this.qa.set(d,[c]),g.modify(k)):null!==b&&null===c&&(this.qa[n](d,[b.id()]),g[rb](b))};Da(H,function(a,b){this.Fc();this.od(a);this.Db.le(a,b);for(var c=0;c<b[y];c++){var d=b[c],g=this.qa.get([d.id()])[0];this.Kd(a,g,d)}});
H.He=function(a,b){this.Fc();this.od(a);this.Db.le(a,b);for(var c=0;c<b[y];c++){var d=b[c],g=null,k=this.Db.Ji(a,d);null!=k&&(g=this.qa.get([k])[0],d.sh(k));this.Kd(a,g,d)}};ka(H,function(a,b){this.Fc();this.od(a);this.Db.Df(a,b,0);for(var c=0;c<b[y];c++)this.Kd(a,b[c],null)});H.Fh=function(){this.Ab.c()[q](function(a){var b=this.pa.get(a[l]());this.Db.Cf(b,a.Qc().c(),1);this.Db.Df(b,a.Rc().c(),1)},this)};H.V=function(){this.Fc();this.$d=!0};
H.Fc=function(){L(!this.Te,"Attemptted to use journal that needs to be rolled back.");L(!this.$d,"Attemptted to commit a terminated journal.")};H.Kb=function(){L(!this.$d,"Attempted to rollback a terminated journal.");var a=this.Ab.c().map(function(a){return a.oj()},this);this.Jd[Bb](a);this.$d=!0;this.Te=!1};H.od=function(a){if(!this.pa.A(a[l]()))throw new P(106,a[l]());};
function Yd(a,b,c,d){this.f=a;this.w=b;this.ba=null===this.f?!1:c;this.ea=null===this.w?!1:d}H=Yd[z];f(H,function(){return(this.ba?"(":"[")+(null===this.f?"unbound":this.f)+", "+(null===this.w?"unbound":this.w)+(this.ea?")":"]")});H.Vh=function(){if(null===this.f&&null===this.w)return[];var a=null,b=null;null===this.f||(a=new Yd(null,this.f,!1,!this.ba));null===this.w||(b=new Yd(this.w,null,!this.ea,!1));return[a,b][h](function(a){return null!==a})};
H.reverse=function(){return new Yd(this.w,this.f,this.ea,this.ba)};H.xg=function(a){var b=Zd(this.f,a.f,!0,this.ba,a.ba);if(0==b)return!0;var c=-1==b?this:a;a=1==b?this:a;return null===c.w||c.w>a.f||c.w==a.f&&!c.ea&&!a.ba};function $d(){return new Yd(null,null,!1,!1)}H.contains=function(a){var b=null===this.w||a<this.w||a==this.w&&!this.ea;return(null===this.f||a>this.f||a==this.f&&!this.ba)&&b};H.Mc=function(a){return this.f==a.f&&this.ba==a.ba&&this.w==a.w&&this.ea==a.ea};
function Zd(a,b,c,d,g){function k(a){return c?a:1==a?-1:1}d=d||!1;g=g||!1;return null===a?null===b?(d?!g:g)?d?k(1):k(-1):0:k(-1):null===b?k(1):a<b?-1:a==b?(d?!g:g)?d?k(1):k(-1):0:1}function ae(a,b){var c=Zd(a.f,b.f,!0,a.ba,b.ba);0==c&&(c=Zd(a.w,b.w,!1,a.ea,b.ea));return c};
function be(a,b){this.entries=a;this.F=new O(b);this.Mb=null}H=be[z];H.Lj=function(a){return this.F.Mc(a.F)};function ce(a,b){L(a.Lj(b),"Intersection/union operations only apply to compatible relations.")}H.Y=function(){return this.F.c()};H.Je=function(){return 1<this.F.ra()};H.ze=function(){return this[C].map(function(a){return a.wa.u()})};H.qj=function(){return this[C].map(function(a){return a.wa.id()})};H.Dk=function(a,b){null===this.Mb&&(this.Mb=new N);this.Mb.set(a.l(),b)};
H.sc=function(a){L(null!==this.Mb,"getAggregationResult called before any results have been calculated.");var b=this.Mb.get(a.l(),void 0);L(Hb(b),"Could not find result for "+a.l());return b};H.Cj=function(a){return null!==this.Mb&&this.Mb.A(a.l())};var de=null;function ee(){null===de&&(de=new be([],[]));return de}
function fe(a){if(0==a[y])return ee();for(var b=a[lb](function(b,c){ce(a[0],c);return b+c[C][y]},0),c=e(b),d=0,b=a.map(function(a){var b=new N;a[C][q](function(a){c[d++]=a;b.set(a.id,a)});return b}),g=new N,k=0;k<c[y];k++)b[Ab](function(a){return a.A(c[k].id)})&&g.set(c[k].id,c[k]);return new be(g.c(),a[0].F.c())}function ge(a){if(0==a[y])return ee();var b=new N;a[q](function(c){ce(a[0],c);c[C][q](function(a){b.set(a.id,a)})});return new be(b.c(),a[0].F.c())}
function he(a,b){var c=1<b[y],d=a.map(function(a){return new ie(a,c)});return new be(d,b)}function ie(a,b){this.wa=a;this.id=je++;this.Ke=b}var je=0;ie[z].O=function(a){var b=a.$a();return null!==b&&this.wa.u()[bb](b)?this.wa.u()[b]:this.Ke?this.wa.u()[a.X().Ca()][a[l]()]:this.wa.u()[a[l]()]};ie[z].bf=function(a,b){var c=a.$a();if(null!=c)this.wa.u()[c]=b;else if(this.Ke){var c=a.X().Ca(),d=this.wa.u()[c];null==d&&(d={},this.wa.u()[c]=d);d[a[l]()]=b}else this.wa.u()[a[l]()]=b};
function ke(a,b,c,d){function g(a,b){if(a.Ke){var c=a.wa.u(),d;for(d in c)k[d]=c[d]}else L(!k[bb](b[0]),"Attempted to join table with itself, without using table alias, or same alias "+b[0]+"is reused for multiple tables."),k[b[0]]=a.wa.u()}var k={};g(a,b);g(c,d);a=new bd(-1,k);return new ie(a,!0)};
I("lf.bind",function(a){return new le(a)},void 0);function le(a){this.sa=a}I("lf.Binder",le,void 0);le[z].tb=G("sa");
function me(){var a=ne();this.ti=new N(1,oe(),2,pe(),4,a,3,a,5,qe())}Jb(me);me[z].xe=function(a,b){var c=this.ti.get(a,null);L(null!==c,"Could not find evaluation map for "+a);c=c.get(b,null);L(null!==c,"Could not find evaluator for "+a+", "+b);return c};
function ne(){return new N("between",function(a,b){return a>=b[0]&&a<=b[1]},"eq",function(a,b){return a==b},"gte",function(a,b){return a>=b},"gt",function(a,b){return a>b},"in",function(a,b){return-1!=b[pb](a)},"lte",function(a,b){return a<=b},"lt",function(a,b){return a<b},"neq",function(a,b){return a!=b})}
function qe(){return new N("between",function(a,b){return a>=b[0]&&a<=b[1]},"eq",function(a,b){return a==b},"gte",function(a,b){return a>=b},"gt",function(a,b){return a>b},"in",function(a,b){return-1!=b[pb](a)},"lte",function(a,b){return a<=b},"lt",function(a,b){return a<b},"match",function(a,b){return(new RegExp(b)).test(a)},"neq",function(a,b){return a!=b})}
function pe(){return new N("between",function(a,b){return a[Qa]()>=b[0][Qa]()&&a[Qa]()<=b[1][Qa]()},"eq",function(a,b){return(null===a?-1:a[Qa]())==(null===b?-1:b[Qa]())},"gte",function(a,b){return a[Qa]()>=b[Qa]()},"gt",function(a,b){return a[Qa]()>b[Qa]()},"in",function(a,b){return b[yb](function(b){return b[Qa]()==a[Qa]()})},"lte",function(a,b){return a[Qa]()<=b[Qa]()},"lt",function(a,b){return a[Qa]()<b[Qa]()},"neq",function(a,b){return(null===a?-1:a[Qa]())!=(null===b?-1:b[Qa]())})}
function oe(){return new N("eq",function(a,b){return a==b},"neq",function(a,b){return a!=b})};function re(a,b){this.lg=a;this.ah=b}re[z].getKey=G("lg");re[z].vj=G("ah");ta(re[z],function(){return new re(this.lg,this.ah)});function se(a,b){re[D](this,a,b);this.i=this.C=null}K(se,re);var te=[];H=se[z];ta(H,function(){return new se(this.getKey(),this.vj())});H.getParent=G("C");H.fg=function(){return!this.xa()};H.N=function(){return this.i||te};H.rb=function(a){return this.N()[a]||null};H.xa=function(){return this.N()[y]};H.bj=function(){for(var a=0,b=this;b[Ga]();)a++,b=b[Ga]();return a};H.mb=function(){for(var a=this;a[Ga]();)a=a[Ga]();return a};H.contains=function(a){do a=a[Ga]();while(a&&a!=this);return Boolean(a)};
H.zc=function(a,b){if(!1!==a[D](b,this))for(var c=this.N(),d=0;d<c[y];d++)c[d].zc(a,b)};H.Zd=Eb("C");H.ia=function(a){this.Cc(a,this.i?this.i[y]:0)};H.Cc=function(a,b){L(!a[Ga]());a.Zd(this);this.i=this.i||[];L(0<=b&&b<=this.i[y]);nc(this.i,b,0,a)};H.Vd=function(a){var b=this.i&&this.i[a];return b?(b.Zd(null),jc(this.i,a),0==this.i[y]&&(this.i=null),b):null};H.removeChild=function(a){return this.Vd(dc(this.N(),a))};

function ue(){se[D](this,"","");this.ya=ve++}K(ue,se);var ve=0;ue[z].ka=G("ya");ue[z].cf=Eb("ya");
function we(a,b,c){ue[D](this);this.J=a;wa(this,b);this.W=c;this.ud=me.ye().xe(this.J.$(),this.W);this.bb=!1;this.kc=b}K(we,ue);H=we[z];H.Nb=function(){var a=new we(this.J,this[x],this.W);a.Ek(this.kc);a.Yd(this.bb);a.cf(this.ka());return a};H.sb=function(a){return null!=a?(a[v](this.J),a):[this.J]};H.Yd=Eb("bb");H.Ek=Eb("kc");H.Af=function(){var a=!1;this[x]instanceof le||(a="array"==Kb(this[x])?!this[x][yb](function(a){return a instanceof le}):!0);if(!a)throw new P(501);};
H.eval=function(a){this.Af();if("in"==this.W)return this.ni(a);var b=a[C][h](function(a){return this.ud(a.O(this.J),this[x])!=this.bb},this);return new be(b,a.Y())};oa(H,function(a){if(this.kc instanceof le){var b=this.kc.tb();if(a[y]<=b)throw new P(510);wa(this,a[b])}else"array"==Kb(this.kc)&&wa(this,this.kc.map(function(b){if(b instanceof le){if(a[y]<=b.tb())throw new P(510);return a[b.tb()]}return b}))});
H.ni=function(a){L("in"==this.W,"ValuePredicate#evalAsIn_() called for wrong predicate type.");var b=new O(this[x]),c=J(function(a){return b[ib](a)!=this.bb},this),d=a[C][h](function(a){return c(a.O(this.J))},this);return new be(d,a.Y())};f(H,function(){return"value_pred("+this.J.l()+" "+this.W+(this.bb?"(complement)":"")+" "+this[x]+")"});H.eg=function(){this.Af();return null!==this[x]&&("between"==this.W||"eq"==this.W||"gt"==this.W||"gte"==this.W||"lt"==this.W||"lte"==this.W)};
H.Sk=function(){L(this.eg(),"Could not convert predicate to key range.");var a=null;"between"==this.W?a=new Yd(this[x][0],this[x][1],!1,!1):"eq"==this.W?(a=this[x],a=new Yd(a,a,!1,!1)):a="gte"==this.W?new Yd(this[x],null,!1,!1):"gt"==this.W?new Yd(this[x],null,!0,!1):"lte"==this.W?new Yd(null,this[x],!1,!1):new Yd(null,this[x],!1,!0);return this.bb?a.Vh():[a]};
function xe(a){this.ma=a;this.Hc=this.ua=null}H=xe[z];H.Dd=function(a){null===this.ua&&null!=this.D&&(this.ua=ye(this.D));a=this.ua.get(a,null);L(null!==a);return a};function ye(a){var b=new N;a.zc(function(a){b.set(a.ka(),a)});return b}H.pd=function(a){a.D&&(this.D=a.D.Nb());this.Hc=a};H.Lf=function(a,b){var c=new O;a.c()[q](function(a){a.Gb().Sf()[q](function(g){if(!b||b[ib](a[g.Cb]))g=this.ma[u](g.Xb),c.add(g)},this)},this);return c};
H.se=function(a,b){var c=new O;a.c()[q](function(a){a.sb()[q](function(a){b&&!b[ib](a)||null===a.N()||a.N()[q](function(a){c.add(a.X())},this)},this)},this);return c};oa(H,function(){L(null==this.Hc);return this});H.ie=function(a){var b=this.D;null!=b&&b.zc(function(b){b instanceof we&&b[r](a)})};
function ze(a){xe[D](this,a)}K(ze,xe);function Ae(a){var b="";a[q](function(c,d){b+=c.J.l()+" ";b+=1==c.ob?"ASC":"DESC";d<a[y]-1&&(b+=", ")});return b}ze[z].fa=function(){return new O(this.f)};ta(ze[z],function(){var a=new ze(this.ma);a.pd(this);this.h&&(a.h=this.h[w]());this.f&&(a.f=this.f[w]());a.oa=this.oa;a.na=this.na;this.K&&(a.K=this.K[w]());this.la&&(a.la=this.la[w]());this.Ub&&(a.Ub=this.Ub);this.fc&&(a.fc=this.fc);return a});
oa(ze[z],function(a){ze.gb[r][D](this,a);null!=this.Ub&&(this.oa=a[this.Ub.tb()]);null!=this.fc&&(this.na=a[this.fc.tb()]);this.ie(a);return this});
function Be(a,b){this.Aa=a;this.pa=b}Be[z].mb=G("Aa");Be[z].Mf=Fb("plan description");Be[z].fa=G("pa");function Ce(a){var b=new O;a[q](function(a){b[mb](a.fa())});return b};

function De(a,b){this.global=a;this.Bb=a.o(xd);this.Td=b.map(function(a){return a[Ea]});this.zg=b.map(function(a){return a.Ue});this.Ef=Ce(this.zg);this.Xg=this.ji();this.bc=Wc()}H=De[z];H.ji=function(){return this.Td[yb](function(a){return!(a instanceof ze)})?1:0};
ia(H,function(){var a=new Xd(this[Sa],this.Ef.c()),b=[],c=this.zg[w](),d=J(function(){var g=c[Ha]();if(g){var k=this.Td[b[y]];return g.mb()[Ia](a,k)[A](function(a){b[v](a[0]);return d()})}return Rc()},this);return d()[A](J(function(){return this.Bb.Ob(this.Xg,a).V()},this))[A](J(function(){this.Re(b);return b},this),J(function(b){a.Kb();throw b;},this))});H.$=G("Xg");H.fa=G("Ef");H.Sc=G("bc");H.ka=function(){return Qb(this)};H.Re=Db();
function Ee(a,b){De[D](this,a,b);this.Hb=a.o(Cd)}K(Ee,De);xa(Ee[z],Fb(0));Ee[z].Re=function(a){this.Td[q](function(b,c){this.Hb.Zg(b,a[c])},this)};
function Fe(a,b){this.m=a;this.Hb=a.o(Cd);this.Xa=a.o(Bd);this.Jd=new Pd(a);this.Ab=b;var c=a.o(Dd),d=this.Ab.map(function(a){return c[u](a[l]())});this.pa=new O(d);this.bc=Wc()}H=Fe[z];ia(H,function(){this.Jd[Bb](this.Ab);this.ed();return Rc()});H.$=Fb(1);H.fa=G("pa");H.Sc=G("bc");H.ka=function(){return Qb(this)};xa(H,Fb(1));H.ed=function(){var a=this.Hb.Ee(this.pa.c());0!=a[y]&&(a=new Ee(this.m,a),this.Xa.cc(a))};
function Ge(a){this.m=a;this.Bb=a.o(xd);this.Xa=a.o(Bd)}Ge[z].Ok=function(){this.Bb.subscribe(this.Pe[r](this))};Ge[z].Pe=function(a){a=new Fe(this.m,a);this.Xa.cc(a)};


function Q(a,b){this.Pa=a;this.j=b;this.hb=new N}I("lf.backstore.FirebaseRawBackStore",Q,void 0);H=Q[z];H.Ed=G("j");H.Fd=function(){throw new P(351);};function Ie(a,b){var c=Wc(),d=a;b[y]&&(d=a[gb](b));d[db]("value",function(a){c[xb](a.val())},function(a){c[kb](a)});return c.ga}function Je(a,b,c){function d(a){a?g[kb](a):g[xb]()}c=c||!1;var g=Wc();c?a.set(b,d):a[Bb](b,d);return g.ga}
H.Ea=function(a){return Ie(this.j,"@rev/R")[A](function(a){this.Wa=a;return Ie(this.j,"@table")}[r](this))[A](function(b){var c=0,d;for(d in b)this.hb.set(d,b[d]),b[d]>c&&(c=b[d]);a.Ya()[q](function(a){this.hb.A(a[l]())||(b[a[l]()]=++c)},this);d=this.j[gb]("@table");return Je(d,b)}[r](this))};
H.ae=function(a,b){var c=this.hb.get(a);return null!=c?function(){var a={},g=Wc();this.j[Ma]("T").equalTo(c)[db]("value",function(c){c[q](function(c){var g=b(c.val());a[ga(c.key(),10)]=g});g[xb](a)});return g.ga}[D](this)[A](function(a){a["@rev"]={R:++this.Wa};return Je(this.j,a)}[r](this)):Rc()};H.Kc=function(a){return this.ae(a,Fb(null))[A](function(){this.hb[n](a);return Je(this.j[gb]("@table/"+a),null,!0)}[r](this))};Q[z].dropTable=Q[z].Kc;
Q[z].Dc=function(a,b,c){return this.ae(a,function(a){var g=a.P;g[b]=c;return{R:this.Wa+1,T:a.T,P:g}}[r](this))};Q[z].addTableColumn=Q[z].Dc;Q[z].Lc=function(a,b){return this.ae(a,function(a){var d=a.P;delete d[b];return{R:this.Wa+1,T:a.T,P:d}}[r](this))};Q[z].dropTableColumn=Q[z].Lc;Q[z].dd=function(a,b,c){return this.ae(a,function(a){var g=a.P;g[c]=g[b];delete g[b];return{R:this.Wa+1,T:a.T,P:g}}[r](this))};Q[z].renameTableColumn=Q[z].dd;Q[z].Eb=function(){throw new P(351);};Q[z].createRow=Q[z].Eb;
Q[z].Vc=G("Pa");Q[z].getVersion=Q[z].Vc;Q[z].pc=function(a){var b=Wc();a=this.hb.get(a);this.j[Ma]("T").equalTo(a)[db]("value",function(a){var d=[];a[q](function(a){d[v](a.val().P)});b[xb](d)});return b.ga};qa(Q[z],function(){var a={},b=this.hb.H().map(function(b){return this.pc(b)[A](function(d){a[b]=d})}[r](this));return Vc(b)[A](function(){return a})});qa(Q[z],Q[z].dump);
function Ke(a,b,c){jd[D](this,c,b);this.j=a}K(Ke,jd);Ke[z].X=function(a){return this.j.Tc(a)};
Ke[z].V=function(){Ke.gb.V[D](this);var a=this.fj().Rf();if(0==a.ra())this.ca[xb]();else{var b=this.j.pj()+1;this.j.Ng(b);var c={"@rev":{R:b}};a[q](function(a){var g=this.j.Xf(a[l]());a.Qc()[q](function(a,d){c[d]={R:b,T:g,P:a.u()}});a.Bd()[q](function(a,d){c[d]={R:b,T:g,P:a[1].u()}});a.Rc()[q](function(a,b){c[b]=null})},this);this.j.mj()[Bb](c,function(c){if(null===c)this.ca[xb]();else this.j.Ng(b-1),c=a.c().map(function(a){return this.j.Eg(a[l]())},this),Vc(c)[A](this.ca[kb][r](this.ca),this.ca[kb][r](this.ca))}[r](this))}return this.ca.ga};
function Le(){this.qb=new N}H=Le[z];H.De=function(a){if(0==a[y])return this.qb.c();var b=[];a[q](function(a){a=this.qb.get(a,null);null===a||b[v](a)},this);return b};H.getData=G("qb");H.get=function(a){return Rc(this.De(a))};H.Ve=function(a){a[q](function(a){this.qb.set(a.id(),a)},this)};H.put=function(a){this.Ve(a);return Rc()};H.Fg=function(a){0==a[y]||a[y]==this.qb.ra()?this.qb[Pa]():a[q](function(a){this.qb[n](a)},this)};ka(H,function(a){this.Fg(a);return Rc()});
H.gj=function(){return this.qb.Fa()?0:this.qb.H()[lb](function(a,b){return a>b?a:b},0)};
function Me(a,b){this.s=a;this.jh=b;this.cd=new N;this.Wa=-1;this.F=new N;this.hb=new N;this.je=null}H=Me[z];H.pj=G("Wa");H.Ng=Eb("Wa");
H.Ea=function(a){this.j=this.jh[gb](this.s[sb]());var b=a||function(){return Rc()};return Ie(this.j,"@db/version")[A](function(a){return null===a?Je(this.j,this.ai(),!0)[A](function(){var a=new Q(0,this.j);return b(a)}[r](this)):a==this.s[Fa]()?Ie(this.j,"@rev/R")[A](function(a){this.Wa=a;return Ie(this.j,"@table")}[r](this))[A](function(a){for(var b in a)this.hb.set(b,a[b]);a=this.s.Ya().map(function(a){return this.Eg(a[l]())},this);return Vc(a)}[r](this))[A](function(){this.Hj();this.pg();return Rc()}[r](this)):
this.Se(a,b)[A](function(){return this.Ea()}[r](this))}[r](this))};H.Se=function(a,b){var c=new Q(a,this.j);return c.Ea(this.s)[A](function(){return this.Xk()}[r](this))[A](function(){return b(c)})[A](function(){var a=this.j[gb]("@db");return Je(a,{version:this.s[Fa]()},!0)}[r](this))};H.Xk=function(){return Rc()};H.pg=function(){this.j.off();this.j.on("child_removed",this.ck[r](this));this.ke&&(this.ke.off(),this.cd[Pa]());this.ke=this.j[Ma]("R").startAt(this.Wa+1);this.ke.on("value",this.Pe[r](this))};
H.Hj=function(){cd=this.F.c().map(function(a){return a.gj()})[lb](function(a,b){return a>b?a:b},0)+1};H.ck=function(a){var b=a.val(),c=this.cd.get(b.T,null);null===c&&(c=new O,this.cd.set(b.T,c));c.add(ga(a.key(),10))};H.Pe=function(a){var b=a[gb]("@rev/R").val();null!=b&&b!=this.Wa&&(this.Wa=b,a=this.Pi(a),a[q](function(a){var b=this.F.get(a[l]()),g=a.Rc().H();g[y]&&b.Fg(g);var k=a.Qc().c();a.Bd()[q](function(a){k[v](a[1])});b.Ve(k)},this),a[y]&&this.ad(a),this.pg())};
H.Pi=function(a){var b=new O,c=new N;this.hb[q](function(a,g){var k=this.F.get(g),m=new Wd(g);if(this.cd.A(a)){var p=this.cd.get(a).c();b[mb](p);k.De(p)[q](function(a){m[rb](a)})}c.set(a,m)}[r](this));a[q](function(a){if("@rev"!=a.key()){var g=ga(a.key(),10);if(!b[ib](g)){a=a.val();var k=c.get(a.T),m=this.F.get(k[l]());m.getData().A(g)?k.modify([m.De([g])[0],new bd(g,a.P)]):k.add(new bd(g,a.P))}}}[r](this));return c.c()[h](function(a){return!a.Fa()})};
H.Eg=function(a){var b=Wc(),c=this.Xf(a);this.j[Ma]("T").equalTo(c)[db]("value",function(c){var g=new Le,k=[];c[q](function(a){k[v](new bd(ga(a.key(),10),a.val().P))});g.Ve(k);this.F.set(a,g);b[xb]()}[r](this));return b.ga};H.Xf=function(a){return this.hb.get(a)};H.ai=function(){var a={};a["@db"]={version:this.s[Fa]()};a["@rev"]={R:1};this.Wa=1;a["@table"]={};this.s.Ya()[q](function(b,c){var d=b[l]();a["@table"][d]=c;this.F.set(d,new Le);this.hb.set(d,c)},this);return a};
H.Ob=function(a,b){return new Ke(this,a,b)};H.Tc=function(a){var b=this.F.get(a,null);if(null!==b)return b;throw new P(101,a);};H.mj=G("j");sa(H,Db());za(H,Eb("je"));H.ad=function(a){null!=this.je&&this.je(a)};
function R(a,b,c,d){this.j=b;this.Oa=c;this.Pa=a;this.ld=d}I("lf.backstore.IndexedDBRawBackStore",R,void 0);R[z].Ed=G("j");R[z].getRawDBInstance=R[z].Ed;R[z].Fd=G("Oa");R[z].getRawTransaction=R[z].Fd;R[z].Kc=function(a){return new M(function(b,c){try{this.j.deleteObjectStore(a)}catch(d){c(d);return}b()},this)};R[z].dropTable=R[z].Kc;
R[z].gk=function(a,b,c){return new M(function(d,g){var k;try{var m=this.Oa[ob](a);k=m[vb]()}catch(p){g(p);return}Ca(k,function(){var a=k[Xa];a?(b(a),a[Ra]()):(c(m),d())});va(k,g)},this)};function Ne(a){var b=null;return b=a instanceof ArrayBuffer?fd(a):a instanceof Date?a[Qa]():a}R[z].gf=function(a,b){function c(a){var c=Kd(a[x]),d=c.tc(),p;for(p in d){var B=dd(d[p]);b(B);d[p]=B.Ia()}a[Bb](c.Ia())}function d(a){var c=dd(a[x]);b(c);a[Bb](c.Ia())}return this.gk(a,this.ld?c:d,Db())};
R[z].Dc=function(a,b,c){var d=Ne(c);return this.gf(a,function(a){a.u()[b]=d})};R[z].addTableColumn=R[z].Dc;R[z].Lc=function(a,b){return this.gf(a,function(a){delete a.u()[b]})};R[z].dropTableColumn=R[z].Lc;R[z].dd=function(a,b,c){return this.gf(a,function(a){a.u()[c]=a.u()[b];delete a.u()[b]})};R[z].renameTableColumn=R[z].dd;
R[z].tj=function(a){var b=[];return new M(function(c,d){var g;try{g=this.Oa[ob](a)[vb]()}catch(k){d(k);return}Ca(g,J(function(){var a=g[Xa];if(a){if(this.ld){var d=Kd(a[x]).tc(),k;for(k in d)b[v](d[k])}else b[v](a[x]);a[Ra]()}else c(b)},this));va(g,d)},this)};R[z].Eb=function(a){var b={};uc(a,J(function(a,d){b[d]=Ne(a)},this));return ed(b)};R[z].createRow=R[z].Eb;R[z].Vc=G("Pa");R[z].getVersion=R[z].Vc;
qa(R[z],function(){for(var a=this.j[La],b=[],c=0;c<a[y];++c){var d=a[nb](c);b[v](this.pc(d))}return Vc(b)[A](function(b){var c={};b[q](function(b,d){c[a[nb](d)]=b});return c})});qa(R[z],R[z].dump);R[z].pc=function(a){return this.tj(a)[A](function(a){return a.map(function(a){return a[x]})})};
function Oe(a,b){this.S=a;this.Pb=b}H=Oe[z];H.get=function(a){if(0==a[y])return this.we();a=a.map(function(a){return new M(function(c,d){var g;try{g=this.S.get(a)}catch(k){d(k);return}va(g,d);Ca(g,J(function(a){c(this.Pb(a[wb][Xa]))},this))},this)},this);return Vc(a)};H.we=function(){return new M(function(a,b){var c=[],d;try{d=this.S[vb]()}catch(g){b(g);return}va(d,b);Ca(d,J(function(){var b=d[Xa];b?(c[v](this.Pb(b[x])),b[Ra]()):a(c)},this))},this)};
H.Zb=function(a){return new M(function(b,c){var d;try{d=a()}catch(g){c(g);return}Ca(d,b);va(d,c)},this)};H.put=function(a){if(0==a[y])return Rc();a=a.map(function(a){return this.Zb(J(function(){return this.S.put(a.Ia())},this))},this);return Vc(a)};
ka(H,function(a){return new M(function(b,c){var d=this.S.count();Ca(d,J(function(d){if(0==a[y]||d[wb][Xa]==a[y])return this.Zb(J(function(){return this.S[Pa]()},this))[A](b,c);d=a.map(function(a){return this.Zb(J(function(){return this.S[rb](a)},this))},this);Vc(d)[A](b,c)},this));va(d,c)},this)});
function Pe(a,b,c,d,g){jd[D](this,c,d);this.m=a;this.Oa=b;this.ld=g;this.Oa.oncomplete=J(this.ca[xb],this.ca);this.Oa.onabort=J(this.ca[kb],this.ca)}K(Pe,jd);Pe[z].X=function(a,b,c){return this.ld?(c=null!=c?c:0,a=this.Oa[ob](a),new Ld(a,b,0==c?Vb(Md,this.m):Nd)):new Oe(this.Oa[ob](a),b)};
function Qe(a,b){this.m=a;this.s=b;this.md=b.Ag().li||!1}H=Qe[z];H.Ea=function(a){var b=aa.indexedDB||aa.mozIndexedDB||aa.webkitIndexedDB||aa.msIndexedDB;if(null==b)throw new P(352);var c=a||function(){return Rc()};return new M(function(a,g){var k;try{k=b.open(this.s[sb](),this.s[Fa]())}catch(m){g(m);return}va(k,g);k.onupgradeneeded=J(function(a){this.fk(c,a)[A](Db(),g)},this);Ca(k,J(function(b){this.j=b[wb][Xa];this.af()[A](J(function(b){cd=b+1;a(this.j)},this))},this))},this)};
H.fk=function(a,b){var c=b[wb][Xa],d=b[wb][fb],g=new R(b.oldVersion,c,d,this.md);this.wk(c,d);this.ei(c,d);return a(g)};H.wk=function(a){for(var b=[],c=0;c<a[La][y];++c){var d=a[La][nb](c);-1!=d[pb](".")&&b[v](d)}b[q](function(b){try{a.deleteObjectStore(b)}catch(c){}})};H.ei=function(a,b){this.s.Ya()[q](Vb(this.bi,a,b),this)};H.bi=function(a,b,c){a[La][ib](c[l]())||a.createObjectStore(c[l](),{keyPath:"id"});c.$b()&&(c.Da()[q](function(c){this.Jc(a,b,c.l(),"btree")},this),this.Jc(a,b,c.Rb(),"rowid"))};
H.Jc=function(a,b,c,d){a[La][ib](c)||(a.createObjectStore(c,{keyPath:"id"}),a=b[ob](c),(this.md?new Ld(a,dd,Nd):new Oe(a,dd)).put([new hd(new gd(d))]))};H.Ob=function(a,b){var c=b.fa().c().map(function(a){return a[l]()});b.dj()[q](function(a){c[v](a)});var d=this.j[fb](c,0==a?"readonly":"readwrite");return new Pe(this.m,d,b,a,this.md)};
H.af=function(a){function b(){if(0==c[y])return Rc();var a=c[Ha]();return m(a)[A](b)}var c=this.s.Ya().map(function(a){return a[l]()}),d=this.j,g=0,k=J(function(a){return this.md?(a=Kd(a[x]),xc(a.tc())[lb](function(a,b){return ea.max(a,b)},0)):a.key},this),m=J(function(b){return new M(function(c,m){var He;try{He=(a||d[fb]([b]))[ob](b)[vb](null,"prev")}catch(gh){m(gh);return}Ca(He,function(a){(a=a[wb][Xa])&&(g=ea.max(g,k(a)));c(g)});va(He,function(){c(g)})},this)},this);return new M(function(a){b()[A](function(){a(g)})})};
sa(H,function(){this.j[cb]()});H.Tc=function(){throw new P(511);};za(H,Db());H.ad=Db();



function Re(a,b,c){jd[D](this,c,b);this.S=a;0==b&&this.ca[xb]()}K(Re,jd);Re[z].X=function(a){return this.S.Tc(a)};Re[z].V=function(){Re.gb.V[D](this);this.ca[xb]();return this.ca.ga};
function Se(a){this.s=a;this.F=new N}H=Se[z];H.Ea=function(){this.s.Ya()[q](this.Ij,this);return Rc()};H.Tc=function(a){var b=this.F.get(a,null);if(null===b)throw new P(101,a);return b};H.Ob=function(a,b){return new Re(this,a,b)};H.Ff=function(a){if(!this.F.A(a)){var b=new Le;this.F.set(a,b);return b}return null};H.Ij=function(a){this.Ff(a[l]());a.$b()&&(a.Da()[q](function(a){this.Jc(a.l(),"btree")},this),this.Jc(a.Rb(),"rowid"))};H.Jc=function(a,b){var c=this.Ff(a);null===c||c.put([new hd(new gd(b))])};
sa(H,Db());za(H,Db());H.ad=Db();
function Te(a){Se[D](this,a);this.Od=null}K(Te,Se);za(Te[z],function(a){null===this.Od&&(this.Od=a)});Te[z].ad=function(a){null===this.Od||this.Od(a)};
function Ue(a,b,c){this.Oa=a;this.B=b;this.Pb=c}Ue[z].get=function(a){var b=this.Pb;this.Oa.La("SELECT id, value FROM "+this.B+" "+(0==a[y]?"":"WHERE id IN ("+a[F](",")+")"),[],function(a){for(var d=a[hb][y],g=e(d),k=0;k<d;++k)g[k]=b({id:a[hb][nb](k).id,value:JSON.parse(a[hb][nb](k)[x])});return g});return this.Oa.V()};
Ue[z].put=function(a){if(0==a[y])return Rc();var b="INSERT OR REPLACE INTO "+this.B+"(id, value) VALUES (?, ?)";a[q](function(a){this.Oa.La(b,[a.id(),JSON.stringify(a.u())])},this);return Rc()};ka(Ue[z],function(a){this.Oa.La("DELETE FROM "+this.B+" "+(0==a[y]?"":"WHERE id IN ("+a[F](",")+")"),[]);return Rc()});
function Ve(a,b,c){jd[D](this,b,c);this.j=a;this.F=new N;this.ne=[]}K(Ve,jd);Ve[z].X=function(a,b){var c=this.F.get(a,null);null===c&&(c=new Ue(this,a,b),this.F.set(a,c));return c};Ve[z].La=function(a,b,c){this.ne[v]({Pk:a,hk:b,transform:c})};
Ve[z].V=function(){Ve.gb.V[D](this);var a,b,c=this.ca[kb][r](this.ca),d=function(a,b){this.ca[kb](b)}[r](this),g=J(function(c,m){a=m;if(this.ne[y]){var p=this.ne[Ha]();b=p.transform;c.executeSql(p.Pk,p.hk,g,d)}else p=a,null!=b&&null!=a&&(p=b(a)),this.ca[xb](p)},this);0==this.Wg?this.j.readTransaction(g,c):this.j[fb](g,c);return this.ca.ga};
function S(a,b,c){this.j=c;this.m=a;this.Pa=b}I("lf.backstore.WebSqlRawBackStore",S,void 0);S[z].Ed=G("j");S[z].getRawDBInstance=S[z].Ed;S[z].Fd=function(){throw new P(356);};S[z].getRawTransaction=S[z].Fd;S[z].td=function(){return new Ve(this.j,new Xd(this.m,[]),1)};S[z].Kc=function(a){var b=this.td();b.La("DROP TABLE "+a,[]);return b.V()};S[z].dropTable=S[z].Kc;
S[z].pc=function(a){var b=this.td();b.La("SELECT id, value FROM "+a,[]);return b.V()[A](function(a){for(var b=a[hb][y],g=e(b),k=0;k<b;++k)g[k]={id:a[hb][nb](k).id,value:JSON.parse(a[hb][nb](k)[x])};return Rc(g)})};S[z].ff=function(a,b){var c=this.td(),d="UPDATE "+a+" SET value=? WHERE id=?";return this.pc(a)[A](function(a){a[q](function(a){a=b(a);c.La(d,[JSON.stringify(a[x]),a.id])});return c.V()})};S[z].Dc=function(a,b,c){var d=Ne(c);return this.ff(a,function(a){a[x][b]=d;return a})};
S[z].addTableColumn=S[z].Dc;S[z].Lc=function(a,b){return this.ff(a,function(a){delete a[x][b];return a})};S[z].dropTableColumn=S[z].Lc;S[z].dd=function(a,b,c){return this.ff(a,function(a){a[x][c]=a[x][b];delete a[x][b];return a})};S[z].renameTableColumn=S[z].dd;S[z].Eb=function(a){var b={},c;for(c in a)b[c]=Ne(a[c]);return ed(b)};S[z].createRow=S[z].Eb;S[z].Vc=G("Pa");S[z].getVersion=S[z].Vc;
function We(a){a.La('SELECT tbl_name FROM sqlite_master WHERE type="table"',[],function(a){for(var c=e(a[hb][y]),d=0;d<c[y];++d)c[d]=a[hb][nb](d).tbl_name;return c})}qa(S[z],function(){var a=Wc(),b=this.td();We(b);var c={};b.V()[A](J(function(b){b=b[h](function(a){return"__lf_ver"!=a&&"__WebKitDatabaseInfoTable__"!=a}).map(function(a){return this.pc(a)[A](function(b){c[a]=b})},this);Vc(b)[A](function(){a[xb](c)})},this));return a.ga});qa(S[z],S[z].dump);
function Xe(a,b,c){this.m=a;this.s=b;this.Lk=c||4194304}H=Xe[z];H.xd=function(){return new Xd(this.m,[])};H.Ea=function(a){if(null==aa.openDatabase)throw new P(353);var b=a||function(){return Rc()};return new M(J(function(a,d){try{var g=aa.openDatabase(this.s[sb](),"",this.s[sb](),this.Lk);if(null!=g)this.j=g,this.Rh(b)[A](a,d);else throw new P(354);}catch(k){d(k)}},this))};
H.Rh=function(a){var b=Wc(),c=new Ve(this.j,this.xd(),1);c.La("CREATE TABLE IF NOT EXISTS __lf_ver(id INTEGER PRIMARY KEY, v INTEGER)",[]);c.La("SELECT v FROM __lf_ver WHERE id = 0",[]);c.V()[A](J(function(c){var g=0;c[hb][y]&&(g=c[hb][nb](0).v);g<this.s[Fa]()?this.Se(a,g)[A](b[xb][r](b)):g>this.s[Fa]()?b[kb](new P(108)):b[xb]()},this));return b.ga};H.Ob=function(a,b){if(null!=this.j)return new Ve(this.j,b,a);throw new P(2);};sa(H,Db());H.Tc=function(){throw new P(512);};
H.sg=function(){throw new P(355);};za(H,function(){this.sg()});H.ad=function(){this.sg()};H.Se=function(a,b){var c=Wc();this.kk()[A](J(function(){a(new S(this.m,b,this.j))[A](J(function(){return this.af()},this))[A](c[xb][r](c))},this),c[kb][r](c));return c.ga};
H.kk=function(){var a=this.s.Ya(),b=new Ve(this.j,this.xd(),1),c=new Ve(this.j,this.xd(),1);b.La("INSERT OR REPLACE INTO __lf_ver VALUES (0, ?)",[this.s[Fa]()]);We(b);return b.V()[A](function(b){b[h](function(a){return-1!=a[pb](".")})[q](function(a){c.La("DROP TABLE "+a,[])});var g=b[h](function(a){return-1==a[pb](".")});a.map(function(a){return a[l]()})[h](function(a){return-1==g[pb](a)})[q](function(a){c.La("CREATE TABLE "+a+"(id INTEGER PRIMARY KEY, value TEXT)",[])});return c.V()})};
H.af=function(){var a=0,b=Wc(),c=J(function(b){var c=new Ve(this.j,this.xd(),0);c.La("SELECT MAX(id) FROM "+b,[]);return c.V()[A](function(b){b=b[hb][nb](0)[0];a=ea.max(b,a)})},this),d=this.s.Ya().map(function(a){return c(a[l]())});Vc(d)[A](function(){b[xb](a)},function(a){b[kb](a)});return b.ga};

function Ye(){this.g=new N;ba.defineProperty(this,"size",{get:function(){return this.g.ra()}})}na(Ye[z],function(){this.g[Pa]()});na(Ye[z],Ye[z][Pa]);ya(Ye[z],function(a){return this.g[n](a)});Ye[z]["delete"]=Ye[z][rb];la(Ye[z],function(a,b){return this.g[q](a,b)});la(Ye[z],Ye[z][q]);Ye[z].get=function(a){return this.g.get(a)};Ye[z].get=Ye[z].get;Ye[z].has=function(a){return this.g.A(a)};Ye[z].has=Ye[z].has;Ye[z].set=function(a,b){return this.g.set(a,b)};Ye[z].set=Ye[z].set;
var Ze=aa.Map&&aa.Map[z][Oa]&&aa.Map[z][q]?aa.Map:Ye;function $e(a){if(a instanceof Ye)return a.g.H();var b=0,c=e(a[Ya]);a[q](function(a,g){c[b++]=g});return c}function af(a){if(a instanceof Ye)return a.g.c();var b=0,c=e(a[Ya]);a[q](function(a){c[b++]=a});return c};
function bf(a){this.dc=new O(a);ba.defineProperty(this,"size",{get:function(){return this.dc.ra()}})}bf[z].add=function(a){this.dc.add(a)};bf[z].add=bf[z].add;na(bf[z],function(){this.dc[Pa]()});na(bf[z],bf[z][Pa]);ya(bf[z],function(a){return this.dc[n](a)});bf[z]["delete"]=bf[z][rb];la(bf[z],function(a,b){this.dc.c()[q](a,b)});bf[z].has=function(a){return this.dc[ib](a)};bf[z].has=bf[z].has;var cf=aa.Set&&aa.Set[z][Oa]&&aa.Set[z][q]?aa.Set:bf;
function df(a){if(a instanceof bf)return a.dc.c();var b=0,c=e(a[Ya]);a[q](function(a){c[b++]=a});return c};
function ef(){this.g=new Ze;this.Sg=new Ze}H=ef[z];H.Gd=function(a){var b=this.Sg.get(a);Hb(b)||(b=new cf,this.Sg.set(a,b));return b};H.set=function(a,b){var c=this.Gd(a);b[q](J(function(a){this.g.set(a.id(),a);c.add(a.id())},this))};H.get=function(a){return a.map(J(function(a){return this.g.get(a)||null},this))};
H.ab=function(a,b,c){var d=[],g=ea.min(b,c),k=ea.max(b,c);a=this.Gd(a);if(a[Ya]<k-g)a[q](function(a){a>=g&&a<=k&&(a=this.g.get(a),L(null!=a,"Inconsistent cache"),d[v](a))},this);else for(b=g;b<=k;++b)a.has(b)&&(c=this.g.get(b),L(null!=c,"Inconsistent cache"),d[v](c));return d};ka(H,function(a,b){var c=this.Gd(a);b[q](function(a){this.g[rb](a);c[rb](a)},this)});H.ra=function(a){return null!=a?this.Gd(a)[Ya]:this.g[Ya]};
function ff(a,b,c,d){a=b?a.reverse():a;if(null==c&&null==d)return a;c=ea.min(Hb(c)?c:a[y],a[y]);if(0==c)return[];d=ea.min(d||0,a[y]);return a[w](d,d+c)};
function gf(a,b,c,d){this.B=a;this.M=b;this.jf=c;if(d){a=511;a*=a*a;if(d[y]>=a)throw new P(6,a);d=hf(this,d);this.va=d=jf(d)}else this[Pa]()}var kf=[];H=gf[z];ja(H,G("B"));f(H,function(){return this.va[t]()});H.add=function(a,b){this.va=this.va.wb(a,b)};H.set=function(a,b){this.va=this.va.wb(a,b,!0)};ka(H,function(a,b){this.va=this.va[n](a,b)});H.get=function(a){return this.va.get(a)};H.sd=function(a){return null!=a?this.ab([a])[y]:this.ab()[y]};
H.ab=function(a,b,c,d){var g=this.va.Ad().b[0];if(!Hb(g)||0==c)return kf;var k=(c||0)+(d||0),k=0<k&&!b?k:Number.POSITIVE_INFINITY,m=[];(Hb(a)?this.M.Qg(a):[this.M.ve()])[q](function(a){for(var b=this.M.Ud(a),b=this.M.Ie(a)?g:b[0],b=this.va.Qf(b),c=0;null!=b&&m[y]<k;)0!=b.ab(a,m)?c=0:c++,b=2==c?null:b[$a]()},this);return ff(m,b,c,d)};na(H,function(){this.va=mf(this)});H.A=function(a){return this.va.A(a)};H.min=function(){return this.$c(J(this.M.min,this.M))};
H.max=function(){return this.$c(J(this.M.max,this.M))};H.$c=function(a){var b=this.va.Ad(),c=this.va.Wf();if(0==b.b[y]&&0==c.b[y])return[null,null];var d=b.b[0],b=b.U[0],g=c.b[c.b[y]-1],c=c.U[c.b[y]-1];return 1==a(d,g)?[d,this.jf?[b]:b]:[g,this.jf?[c]:c]};H.xb=G("jf");H.Ic=G("M");H.Ne=function(a,b){return null!=a?-1==this.M[Wa](a,b):!1};H.Qa=function(a,b){return null!=a?0==this.M[Wa](a,b):!1};H.Ia=function(){for(var a=[],b=this.va.Ad();b;)a[v](new bd(b.ya,[b.b,b.U])),b=b.za;return a};
function nf(a,b,c,d){a=new gf(b,a,c);d=of(d,a);a.va=d;return a}function pf(a,b){this.ya=a;this.Z=b;this.nb=0;this.za=this.yb=this.C=null;this.b=[];this.U=[];this.i=[]}function mf(a){return new pf(cd++,a)}H=pf[z];H.da=function(){return 0==this.nb};H.ig=function(){return null==this.C};ra(H,G("za"));
function qf(a){function b(a){return null!=a?a.ya[t]():"_"}var c=a.ya+"["+a.b[F]("|")+"]",d=a.i.map(function(a){return a.ya})[F]("|"),g=a.U[F]("/"),k=b(a.yb)+"{",k=a.da()?k+g:k+d,k=k+"}"+b(a.C);a.za&&(a=qf(a.za),c=c+"  "+a[0],k=k+"  "+a[1]);return[c,k]}f(H,function(){var a="",b=qf(this),a=a+(b[0]+"\n"+b[1]+"\n");this.i[y]&&(a+=this.i[0][t]());return a});H.Ad=function(){return this.da()?this:this.i[0].Ad()};H.Wf=function(){return this.da()?this:this.i[this.i[y]-1].Wf()};
function rf(a,b){b&&(b.yb=a);a&&(a.za=b)}function hf(a,b){for(var c=b[y],d=0,g=mf(a),k=g;0<c;){var m=768<=c?511:257<=c&&511>=c?c:257,p=b[w](d,d+m);g.b=p.map(function(a){return a.key});g.U=p.map(function(a){return a[x]});d+=m;c-=m;0<c&&(m=mf(g.Z),rf(g,m),g=m)}return k}function sf(a){var b=a[0],c=mf(b.Z);c.nb=b.nb+1;c.i=a;for(b=0;b<a[y];++b)a[b].C=c,0<b&&c.b[v](a[b].b[0]);return c}
function jf(a){var b=a,c=[];do c[v](b),b=b.za;while(b);if(512>=c[y])b=sf(c);else{var d=c[y],g=0,b=mf(a.Z);for(b.nb=a.nb+2;0<d;){a=768<=d?511:257<=d&&511>=d?d:257;var k=c[w](g,g+a),m=sf(k);m.C=b;b.i[y]&&(b.b[v](k[0].b[0]),rf(b.i[b.i[y]-1],m));b.i[v](m);g+=a;d-=a}}return b}H.get=function(a){var b=this.fd(a);if(this.da()){var c=kf;this.Z.Qa(this.b[b],a)&&(c=c[Ka](this.U[b]));return c}b=this.Z.Qa(this.b[b],a)?b+1:b;return this.i[b].get(a)};
H.A=function(a){var b=this.fd(a);return this.Z.Qa(this.b[b],a)?!0:this.da()?!1:this.i[b].A(a)};ka(H,function(a,b){this.If(a,-1,b);if(this.ig()){var c=this;1==this.i[y]&&(c=this.i[0],c.C=null);return c}return this});function tf(a){return a.da()?a.b[0]:tf(a.i[0])}H.vd=function(){this.b=[];for(var a=1;a<this.i[y];++a)this.b[v](tf(this.i[a]))};
H.If=function(a,b,c){var d=this.fd(a);if(!this.da()){var g=this.Z.Qa(this.b[d],a)?d+1:d;if(this.i[g].If(a,g,c))this.vd();else return!1}else if(!this.Z.Qa(this.b[d],a))return!1;if(this.b[y]>d&&this.Z.Qa(this.b[d],a)){if(Hb(c)&&!this.Z.xb()&&this.da()&&(a=this.U[d],c=pc(a,qc,!1,c),0<=c&&jc(a,c),this.U[d][y]))return!1;this.b[E](d,1);this.da()&&this.U[E](d,1)}256>this.b[y]&&!this.ig()&&(this.Qk()||this.Zj(b));return!0};
H.Qk=function(){var a=null,b,c,d;if(this.za&&256<this.za.b[y])a=this.za,c=b=0,d=this.b[y]+1;else if(this.yb&&256<this.yb.b[y])a=this.yb,b=this.yb.b[y]-1,c=this.da()?b:b+1,d=0;else return!1;this.b[E](d,0,a.b[b]);a.b[E](b,1);b=this.da()?this.U:this.i;var g=null;this.da()?g=a.U:(g=a.i,g[c].C=this);b[E](d,0,g[c]);g[E](c,1);a.da()||(a.vd(),this.vd());return!0};
H.Zj=function(a){var b,c,d;this.za&&511>this.za.b[y]?(b=this.za,d=c=0):this.yb&&(b=this.yb,c=b.b[y],d=b.da()?b.U[y]:b.i[y]);c=[c,0][Ka](this.b);e[z][E][jb](b.b,c);c=null;this.da()?c=this.U:(c=this.i,c[q](function(a){a.C=b}));c=[d,0][Ka](c);e[z][E][jb](b.da()?b.U:b.i,c);rf(this.yb,this.za);b.da()||b.vd();-1!=a&&(this.C.b[E](a,1),this.C.i[E](a,1))};
H.wb=function(a,b,c){var d=this.fd(a);if(this.da()){if(this.Z.Qa(this.b[d],a)){if(c)return this.U[d]=this.Z.xb()?b:[b],this;if(this.Z.xb())throw new P(201);if(this.U[d])return rc(this.U[d],b),this;this.U[d]=[b]}this.b[E](d,0,a);this.U[E](d,0,this.Z.xb()?b:[b]);return 512==this.b[y]?this.Nk():this}d=this.Z.Qa(this.b[d],a)?d+1:d;a=this.i[d].wb(a,b,c);a.da()||1!=a.b[y]||(this.b[E](d,0,a.b[0]),a.i[1].C=this,a.i[0].C=this,this.i[E](d,1,a.i[1]),this.i[E](d,0,a.i[0]));return 512==this.b[y]?this.Mk():this};
H.Nk=function(){var a=mf(this.Z),b=mf(this.Z);b.nb=1;b.b=[this.b[256]];b.i=[this,a];b.C=this.C;this.C=b;a.b=this.b[E](256);a.U=this.U[E](256);a.C=b;rf(a,this.za);rf(this,a);return b};H.Mk=function(){var a=mf(this.Z),b=mf(this.Z);a.C=this.C;a.nb=this.nb+1;a.b=[this.b[256]];a.i=[this,b];this.b[E](256,1);b.C=a;b.nb=this.nb;b.b=this.b[E](256);b.i=this.i[E](257);b.i[q](function(a){a.C=b});this.C=a;rf(b,this.za);rf(this,b);return a};
H.fd=function(a){for(var b=0,c=this.b[y];b<c;){var d=b+c>>1;this.Z.Ne(this.b[d],a)?b=d+1:c=d}return b};H.Qf=function(a){if(!this.da()){var b=this.fd(a);this.Z.Qa(this.b[b],a)&&b++;return this.i[b].Qf(a)}return this};
H.ab=function(a,b){var c=-1,d=this.b[y]-1,g=this.Z.Ic(),k=J(function(b){for(;b<this.b[y];++b){var k=g.uc(this.b[b],a);if(-1!=c){if(!k){d=b-1;break}}else k&&(c=b)}},this);g.uc(this.b[0],a)?c=0:k(1);if(-1==c)return 0;g.uc(this.b[d],a)||k(c);return d==this.b[y]-1?this.tf(b,this.U[w](c)):d>=c?this.tf(b,this.U[w](c,d+1)):0};H.tf=function(a,b){var c=this.Z.xb()?b:tc(b);a[v][jb](a,c);return c[y]};
function of(a,b){for(var c=a.map(function(a){var c=new pf(a.id(),b);c.b=a.u()[0];c.U=a.u()[1];return c}),d=0;d<c[y]-1;++d)rf(c[d],c[d+1]);return 1<c[y]?jf(c[0]):c[0]};
function uf(a){if(1==a.h[y])return new vf(a.h[0].ob);a=a.h.map(function(a){return a.ob});return new wf(a)}function vf(a){this.qd=0==a?xf:yf;this.Oe=0==a?function(a){return null!=a?a.reverse():null}:function(a){return a||null};this.wg=0==a?zf:Af}K(vf,Od);function yf(a,b){return a>b?1:a<b?-1:0}function xf(a,b){return yf(b,a)}function Af(a,b){return ae(a,b)}function zf(a,b){return ae(b,a)}H=vf[z];
H.oe=function(a,b){var c=this.Oe(b),d=[null===c.f,null===c.w];if(!d[0]){var g=this.qd(a,c.f);d[0]=c.ba?1==g:-1!=g}d[1]||(g=this.qd(a,c.w),d[1]=c.ea?-1==g:1!=g);return d};H.compare=function(a,b){return this.qd(a,b)};H.min=function(a,b){return a<b?1:a==b?0:-1};H.max=function(a,b){return a>b?1:a==b?0:-1};H.uc=function(a,b){var c=this.oe(a,b);return c[0]&&c[1]};H.ve=function(){return $d()};H.vg=function(a,b){return this.wg(a,b)};
H.Qg=function(a){return a[h](function(a){return null!==a})[zb](J(function(a,c){return this.wg(a,c)},this))};H.Ie=function(a){return Lb(this.Oe(a).f)};H.Ud=function(a){a=this.Oe(a);return[a.f,a.w]};f(H,function(){return this.qd==xf?"SimpleComparator_DESC":"SimpleComparator_ASC"});function wf(a){this.Ba=a.map(function(a){return new vf(a)})}K(wf,Od);H=wf[z];H.ue=function(a,b,c){for(var d=0,g=0;g<this.Ba[y]&&0==d;++g)d=c(this.Ba[g],a[g],b[g]);return d};
H.compare=function(a,b){return this.ue(a,b,function(a,b,g){return a[Wa](b,g)})};H.min=function(a,b){return this.ue(a,b,function(a,b,g){return a.min(b,g)})};H.max=function(a,b){return this.ue(a,b,function(a,b,g){return a.max(b,g)})};H.oe=function(a,b){for(var c=[!0,!0],d=0;d<this.Ba[y]&&(c[0]||c[1]);++d){var g=this.Ba[d].oe(a[d],b[d]);c[0]=c[0]&&g[0];c[1]=c[1]&&g[1]}return c};H.uc=function(a,b){for(var c=!0,d=0;d<this.Ba[y]&&c;++d)c=this.Ba[d].uc(a[d],b[d]);return c};H.ve=function(){return this.Ba.map(function(a){return a.ve()})};
H.Qg=function(a){var b=a[h](function(a){return a[Ab](Mb)});a=e(this.Ba[y]);for(var c=0;c<a[y];c++)a[c]=b.map(function(a){return a[c]});a[q](function(a,b){a[zb](J(function(a,c){return this.Ba[b].vg(a,c)},this))},this);b=e(b[y]);for(c=0;c<b[y];c++)b[c]=a.map(function(a){return a[c]});return b[zb](J(function(a,b){for(var c=0,m=0;m<this.Ba[y]&&0==c;++m)c=this.Ba[m].vg(a[m],b[m]);return c},this))};H.Ie=function(a){return this.Ba[0].Ie(a[0])};
H.Ud=function(a){var b=a.map(function(a,b){return this.Ba[b].Ud(a)[0]},this);a=a.map(function(a,b){return this.Ba[b].Ud(a)[1]},this);return[b,a]};
function Bf(a){this.sa=a;this.Ua=new O}H=Bf[z];ja(H,function(){return this.sa[l]()});H.add=function(a,b){if(null===a){if(this.xb()&&!this.Ua.Fa())throw new P(201);this.Ua.add(b)}else this.sa.add(a,b)};H.set=function(a,b){null===a?(this.Ua[Pa](),this.Ua.add(b)):this.sa.set(a,b)};ka(H,function(a,b){null===a?b?this.Ua[n](b):this.Ua[Pa]():this.sa[n](a,b)});H.get=function(a){return null===a?this.Ua.c():this.sa.get(a)};H.sd=function(a){return this.sa.sd(a)};
H.ab=function(a,b,c,d){b=this.sa.ab(a,b,c,d);return null!=a?b:b[Ka](this.Ua.c())};na(H,function(){this.Ua[Pa]();this.sa[Pa]()});H.A=function(a){return null===a?!this.Ua.Fa():this.sa.A(a)};H.min=function(){return this.sa.min()};H.max=function(){return this.sa.max()};H.Ia=function(){return[new bd(-2,this.Ua.c())][Ka](this.sa.Ia())};H.Ic=function(){return this.sa.Ic()};H.xb=function(){return this.sa.xb()};
function Cf(a){this.B=a;this.zb=new cf;this.M=new vf(1)}H=Cf[z];ja(H,G("B"));H.add=function(a){if("number"!=typeof a)throw new P(103);this.zb.add(a)};H.set=function(a,b){this.add(a,b)};ka(H,function(a){this.zb[rb](a)});H.get=function(a){return this.A(a)?[a]:[]};H.min=function(){return this.$c(J(this.M.min,this.M))};H.max=function(){return this.$c(J(this.M.max,this.M))};
H.$c=function(a){if(0==this.zb[Ya])return[null,null];var b=df(this.zb)[lb](J(function(b,d){return null===b||1==a(d,b)?d:b},this),null);return[b,[b]]};H.sd=function(){return this.zb[Ya]};H.ab=function(a,b,c,d){var g=a||[$d()];a=df(this.zb)[h](function(a){return g[yb](function(b){return this.M.uc(a,b)},this)},this);return ff(a,b,c,d)};na(H,function(){this.zb[Pa]()});H.A=function(a){return this.zb.has(a)};H.Ia=function(){return[new bd(0,df(this.zb))]};H.Ic=G("M");
function Df(a,b){var c=new Cf(a);b[0].u()[q](function(a){c.add(a,a)});return c}H.xb=Fb(!0);
function Ef(a){this.m=a;this.Bb=a.o(xd);this.I=a.o(zd);this.qa=a.o(yd)}H=Ef[z];H.Ea=function(a){var b=a.Ya(),c=J(function(){if(0==b[y])return Rc();var a=b[Ha]();return(a.$b()?this.Di(a):this.Ei(a))[A](c)},this);return c()};H.Ei=function(a){var b=new Xd(this.m,[a]);return this.Bb.Ob(0,b).X(a[l](),J(a.oc,a)).get([])[A](J(function(b){this.qa.set(a[l](),b);this.sk(a,b)},this))};H.sk=function(a,b){var c=this.I.sj(a[l]());b[q](function(a){c[q](function(b){var c=a.Yc(b[l]());b.add(c,a.id())})})};
H.Di=function(a){var b=new Xd(this.m,[a]),c=this.Bb.Ob(0,b),b=c.X(a[l](),a.oc).get([])[A](J(function(b){this.qa.set(a[l](),b)},this)),d=a.Da().map(function(a){return this.tk(a,c)},this)[Ka](this.uk(a,c));return Vc(d[Ka](b))};
H.tk=function(a,b){var c=b.X(a.l(),dd,1),d=uf(a);return c.get([])[A](J(function(b){L("btree"==b[0].u().type);if(1<b[y]){if(a.ag()){var c=nf[r](void 0,d,a.l(),a.Xc),m=b[w](1),p=-1;for(b=0;b<m[y];++b)if(-2==m[b].id()){p=b;break}if(-1==p)throw new P(102);b=m[p].u();m=m[w](0);m[E](p,1);c=c(m);c=new Bf(c);c.Ua[mb](b)}else c=nf(d,a.l(),a.Xc,b[w](1));this.I.set(c)}},this))};
H.uk=function(a,b){return b.X(a.Rb(),dd,1).get([])[A](J(function(b){L("rowid"==b[0].u().type);1<b[y]&&(b=Df(a.Rb(),b[w](1)),this.I.set(b))},this))};


function Ff(){this.S=new N}Ff[z].Ea=function(a){a.Ya()[q](function(a){var c=a.Rb();if(null===this.get(c)){var d=new Cf(c);this.S.set(c,d)}a.Da()[q](function(a){this.S.set(a.l(),Gf(a))},this)},this);return Rc()};function Gf(a){var b=uf(a),b=new gf(a.l(),b,a.Xc);return a.ag()?new Bf(b):b}Ff[z].get=function(a){return this.S.get(a,null)};Ff[z].set=function(a){return this.S.set(a[l](),a)};Ff[z].sj=function(a){var b=[],c=a+".";this.S.H()[q](function(a){0==a[pb](c)&&b[v](this.S.get(a))},this);return b};
function Hf(a){this.cb=[];Hb(a)&&this.add(a)}H=Hf[z];f(H,function(){return this.cb.map(function(a){return a[t]()})[F](",")});H.A=function(a){return this.cb[yb](function(b){return b[ib](a)})};H.c=G("cb");
H.add=function(a){if(0!=a[y])if(a=this.cb[Ka](a),1==a[y])this.cb=a;else{a[zb](ae);for(var b=[],c=a[0],d=1;d<a[y];++d)if(c.xg(a[d])){var g=a[d],k=$d();if(null!==c.f&&null!==g.f){var m=Zd(c.f,g.f,!0);1!=m?(k.f=c.f,k.ba=0!=m?c.ba:c.ba&&g.ba):(k.f=g.f,k.ba=g.ba)}null!==c.w&&null!==g.w&&(m=Zd(c.w,g.w,!1),-1!=m?(k.w=c.w,k.ea=0!=m?c.ea:c.ea&&g.ea):(k.w=g.w,k.ea=g.ea));c=k}else b[v](c),c=a[d];b[v](c);this.cb=b}};
H.Mc=function(a){return this.cb[y]==a.cb[y]?0==this.cb[y]||this.cb[Ab](function(b,c){return b.Mc(a.cb[c])}):!1};function If(a,b){var c=[];a.c().map(function(a){return b.c().map(function(b){var c;if(a.xg(b)){c=$d();var m=Zd(a.f,b.f,!0),m=0==m?a.ba?a:b:-1!=m?a:b;c.f=m.f;c.ba=m.ba;null===a.w||null===b.w?b=null===a.w?b:a:(m=Zd(a.w,b.w,!1),b=0==m?a.ea?a:b:-1==m?a:b);c.w=b.w;c.ea=b.ea}else c=null;return c})})[q](function(a){c=c[Ka](a)});return new Hf(c[h](function(a){return null!==a}))};
function Jf(a,b){var c=[],d=null,g=null;a.zc(function(a){var m=b(a);null==a[Ga]()?g=m:d.ia(m);var p=a[Ga]();null!==p&&p.xa()==d.xa()&&(p=c[pb](d),-1!=p&&c[E](p,1));1<a.xa()&&c[v](m);d=a.fg()?c[c[y]-1]:m});return g}function Kf(a){return Lf(a,function(a){return a.fg()})}function Mf(a){var b=a[Ga](),c=0;null!==b&&(c=b.N()[pb](a),b[ub](a));var d=a.N()[w]();d[q](function(d,k){a[ub](d);null===b||b.Cc(d,c+k)});return{parent:b,children:d}}
function Nf(a,b){a.N()[w]()[q](function(c){a[ub](c);b.ia(c)});a.ia(b)}function Of(a){L(1==a.xa());var b=a.rb(0);L(1==b.xa());Mf(a);Nf(b,a);return b}function Pf(a,b,c){L(1==a.xa());var d=a.rb(0);L(1<d.xa());var g=d.N()[w]();if(!g[yb](function(a){return b(a)}))return a;Mf(a);g[q](function(g,m){if(b(g)){var p=c(a);d.Vd(m);p.ia(g);d.Cc(p,m)}});return d}function Qf(a,b,c,d){var g=a[Ga]();null!==g&&(a=g.N()[pb](a),g.Vd(a),g.Cc(c,a));b.N()[w]()[q](function(a){b[ub](a);d.ia(a)});return c}
function Lf(a,b,c){function d(a){b(a)&&g[v](a);null!=c&&c(a)||a.N()[q](d)}var g=[];d(a);return g}function Rf(a,b){var c=b||function(a){return a[t]()+"\n"},d="";a.zc(function(a){for(var b=0;b<a.bj();b++)d+="-";d+=c(a)});return d};

function Sf(a){ue[D](this);this.Wb=a;this.bb=!1}K(Sf,ue);H=Sf[z];H.Nb=function(){return Jf(this,function(a){if(a instanceof Sf){var b=new Sf(a.Wb);b.bb=a.bb;b.cf(a.ka());return b}return a.Nb()}[r](this))};H.sb=function(a){var b=a||[];this.zc(function(a){a!=this&&a.sb(b)}[r](this));return(new O(b)).c()};H.Yd=function(a){this.bb!=a&&(this.bb=a,this.Wb="and"==this.Wb?"or":"and",this.N()[q](function(b){return b.Yd(a)}))};H.eval=function(a){var b=this.N().map(function(b){return b.eval(a)});return this.Uh(b)};
H.Uh=function(a){return"and"==this.Wb?fe(a):ge(a)};f(H,function(){return"combined_pred_"+this.Wb[t]()});function Tf(a,b){return a===b?0!==a||1/a===1/b:a!==a&&b!==b};function Uf(){this[Pa]()}var Vf=ba[z][Ua],Wf=ba[z][bb];H=Uf[z];H.set=function(a,b){this.jd(a);var c=!this.Wc(a);this.g[a]=b;if("__proto__"==a||!Xf&&!Vf[D](this.g,a)){delete this.g[a];var d=dc(this.Lb,a);if(c=0>d)d=this.Lb[y];this.Lb[d]=a;this.Wd[d]=b}c&&this.aa++};H.get=function(a,b){this.jd(a);if(this.Wc(a))return this.g[a];var c=dc(this.Lb,a);return 0<=c?this.Wd[c]:b};
ka(H,function(a){this.jd(a);if(this.Wc(a))return this.aa--,delete this.g[a],!0;a=dc(this.Lb,a);return 0<=a?(this.aa--,jc(this.Lb,a),jc(this.Wd,a),!0):!1});H.addAll=function(a){ec(a.H(),function(b){this.set(b,a.get(b))},this)};H.Fa=function(){return!this.aa};H.ra=G("aa");H.A=function(a){this.jd(a);return this.Wc(a)||0<=dc(this.Lb,a)};H.rd=function(a){return vc(this.g,function(b,c){return this.Wc(c)&&Tf(b,a)},this)||0<=dc(this.Wd,a)};
H.H=function(){var a;if(Yf)a=lc(ba.keys(this.g));else{a=[];for(var b in this.g)Wf[D](this.g,b)&&a[v](b)}mc(a,this.Lb);return a};H.c=function(){for(var a=[],b=this.H(),c=0;c<b[y];c++)a[v](this.get(b[c]));return a};H.getEntries=function(){for(var a=[],b=this.H(),c=0;c<b[y];c++){var d=b[c];a[v]([d,this.get(d)])}return a};na(H,function(){this.g=Xf?ba[Va](null):{};this.Lb=[];this.Wd=[];this.aa=0});ta(H,function(){var a=new Uf;a[mb](this);return a});
H.Wc=function(a){return"__proto__"==a?!1:Xf?a in this.g:Wf[D](this.g,a)};H.jd=function(a){L(Ob(a),"key must be a string.")};var Xf=!!ba[Va],Yf=!!ba.keys;function Zf(){this[Pa]()}H=Zf[z];H.aa=0;na(H,function(){this.aa=0;this.g=new Uf});ta(H,function(){var a=new Zf;a.eh(this);return a});H.add=function(a,b){var c=this.g.get(a);c||this.g.set(a,c=[]);c[v](b);this.aa++};H.eh=function(a){ec(a.getEntries(),function(a){this.add(a[0],a[1])},this)};H.get=function(a){return(a=this.g.get(a))?lc(a):[]};ka(H,function(a,b){var c=this.g.get(a);if(!c)return!1;var d=kc(c,function(a){return Tf(b,a)});d&&(this.aa--,0==c[y]&&this.g[n](a));return d});H.Fa=function(){return!this.aa};
H.ra=G("aa");H.A=function(a){return this.g.A(a)};H.rd=function(a){return hc(this.g.c(),function(b){return hc(b,function(b){return Tf(b,a)})})};H.H=function(){return this.g.H()};H.c=function(){return tc(this.g.c())};H.getEntries=function(){for(var a=this.H(),b=[],c=0;c<a[y];c++)for(var d=a[c],g=this.get(d),k=0;k<g[y];k++)b[v]([d,g[k]]);return b};
function $f(a,b,c){ue[D](this);this.Ta=a;this.fb=b;this.W=c;this.ud=me.ye().xe(this.Ta.$(),this.W)}K($f,ue);H=$f[z];H.Nb=function(){var a=new $f(this.Ta,this.fb,this.W);a.cf(this.ka());return a};H.sb=function(a){return null!=a?(a[v](this.Ta),a[v](this.fb),a):[this.Ta,this.fb]};H.eval=function(a){var b=a[C][h](function(a){var b=a.O(this.Ta);a=a.O(this.fb);return this.ud(b,a)},this);return new be(b,a.Y())};f(H,function(){return"join_pred("+this.Ta.l()+", "+this.fb.l()+")"});
H.uf=function(a){return-1!=a.Y()[pb](this.Ta.X().Ca())};H.lh=function(a){return-1!=a.Y()[pb](this.fb.X().Ca())};H.ii=function(a,b){var c=null,d=null;this.uf(a)?(this.wf(a,b),c=a,d=b):(this.wf(b,a),c=b,d=a);return[c,d]};H.wf=function(a,b){L(this.uf(a),"Mismatch between join predicate left operand and right relation.");L(this.lh(b),"Mismatch between join predicate right operand and right relation.")};H.pi=function(a,b){var c=this.ii(a,b),d=c[0],c=c[1];return"eq"==this.W?this.ri(d,c):this.si(d,c)};
H.si=function(a,b){for(var c=[],d=a.Y(),g=b.Y(),k=0;k<a[C][y];k++)for(var m=0;m<b[C][y];m++)if(this.ud(a[C][k].O(this.Ta),b[C][m].O(this.fb))){var p=ke(a[C][k],d,b[C][m],g);c[v](p)}d=a.Y()[Ka](b.Y());return new be(c,d)};
H.ri=function(a,b){var c=a,d=b,g=this.Ta,k=this.fb;a[C][y]>b[C][y]&&(c=b,d=a,g=this.fb,k=this.Ta);var m=new Zf,p=[];c[C][q](function(a){var b=ha(a.O(g));m.add(b,a)});var B=c.Y(),Ta=d.Y();d[C][q](function(a){var b=ha(a.O(k));m.A(b)&&m.get(b)[q](function(b){b=ke(a,Ta,b,B);p[v](b)})});c=a.Y()[Ka](b.Y());return new be(p,c)};
function ag(a,b,c){return null===b?new we(a,b,c):Hb(b.l)?new $f(a,b,c):new we(a,b,c)};
var bg={};I("lf.schema.DataStoreType",bg,void 0);bg.INDEXED_DB=0;bg.MEMORY=1;bg.LOCAL_STORAGE=2;bg.FIREBASE=3;bg.WEB_SQL=4;bg.OBSERVABLE_STORE=5;function cg(a,b,c,d){this.ef=a;Aa(this,b);this.Xc=c;this.h=d}cg[z].l=function(){return this.ef+"."+this[sb]};cg[z].ag=function(){return this.h[yb](function(a){return a.ma.vc()})};function dg(a,b,c,d){this.B=a;this.ta=c;this.G=b;this.Qd=d;this.jb=null}I("lf.schema.Table",dg,void 0);ja(dg[z],G("B"));dg[z].$a=G("jb");dg[z].Ca=function(){return this.jb||this.B};
dg[z].Ec=function(a){var b=new this.constructor(this.B);b.jb=a;b.Xe=this.Xe;return b};dg[z].as=dg[z].Ec;dg[z].nj=G("Xe");dg[z].Hk=Eb("Xe");dg[z].createRow=dg[z].Eb;dg[z].deserializeRow=dg[z].oc;dg[z].Da=G("ta");dg[z].sb=G("G");dg[z].getConstraint=dg[z].Gb;dg[z].$b=G("Qd");dg[z].Rb=function(){return this.B+".#"};
function T(a,b){ua(this,a);this.hc=b;this.jb=null}H=T[z];ja(H,function(){return this.hc+"("+this[gb][l]()+")"});H.l=function(){return this.hc+"("+this[gb].l()+")"};H.X=function(){return this[gb].X()};f(H,function(){return this.l()});H.$=function(){return this[gb].$()};H.$a=G("jb");H.Da=function(){return[]};H.vc=Fb(!1);H.Ec=function(a){this.jb=a;return this};T[z].as=T[z].Ec;T[z].Pf=function(){for(var a=[this],b=this;b instanceof T;)a[v](b[gb]),b=b[gb];return a};
function eg(a){this.jb=a||null;this.L=new dg("#UnknownTable",[],[],!1)}H=eg[z];ja(H,Fb("*"));H.l=function(){return this[l]()};f(H,function(){return this.l()});H.X=G("L");H.$=Fb(4);H.$a=G("jb");H.Da=function(){return[]};H.vc=Fb(!1);
I("lf.fn.avg",function(a){return new T(a,"AVG")},void 0);I("lf.fn.count",function(a){return new T(a||new eg,"COUNT")},void 0);function fg(a){return new T(a,"DISTINCT")}I("lf.fn.distinct",fg,void 0);I("lf.fn.max",function(a){return new T(a,"MAX")},void 0);I("lf.fn.min",function(a){return new T(a,"MIN")},void 0);I("lf.fn.stddev",function(a){return new T(a,"STDDEV")},void 0);I("lf.fn.sum",function(a){return new T(a,"SUM")},void 0);I("lf.fn.geomean",function(a){return new T(a,"GEOMEAN")},void 0);
function U(a,b){se[D](this,"","");this.Ai=b;this.tg=a}K(U,se);H=U[z];ia(H,function(a,b){switch(this.Ai){case 1:return this.vi(a,b);case 0:return this.ui(a,b);default:return this.xi(a,b)}});f(H,Fb("dummy_node"));H.gd=function(){return this[t]()};H.vf=function(a){L(-1==this.tg||a[y]==this.tg)};H.xi=function(a,b){return new M(J(function(c){c(this.ja(a,[],b))},this))};H.vi=function(a,b){return this.rb(0)[Ia](a,b)[A](J(function(c){this.vf(c);return this.ja(a,c,b)},this))};
H.ui=function(a,b){var c=this.N().map(function(c){return c[Ia](a,b)});return Vc(c)[A](J(function(c){var g=[];c[q](function(a){for(var b=0;b<a[y];++b)g[v](a[b])});this.vf(g);return this.ja(a,g,b)},this))};
function gg(a){U[D](this,-1,1);this.rf=a}K(gg,U);f(gg[z],function(){return"aggregation("+this.rf.map(function(a){return a.l()})[t]()+")"});gg[z].ja=function(a,b){b[q](function(a){(new hg(a,this.rf)).yh()},this);return b};function hg(a,b){this.Ha=a;this.G=b}
hg[z].yh=function(){this.G[q](function(a){a=a.Pf().reverse();for(var b=1;b<a[y];b++){var c=a[b],d=c.Pf()[w](-1)[0],g=this.ej(c),k=null;switch(c.hc){case "MIN":k=ig(g,d);break;case "MAX":k=jg(g,d);break;case "DISTINCT":k=kg(g,d);break;case "COUNT":k=g[C][y];break;case "SUM":k=lg(g,d);break;case "AVG":0<g[C][y]&&(k=lg(g,d)/g[C][y]);break;case "GEOMEAN":k=mg(g,d);break;default:k=ng(g,d)}this.Ha.Dk(c,k)}},this)};hg[z].ej=function(a){return a[gb]instanceof T?this.Ha.sc(a[gb]):this.Ha};
function ig(a,b){var c=null;a[C][q](function(a){a=a.O(b);if(null===c||a<c)c=a});return c}function jg(a,b){var c=null;a[C][q](function(a){a=a.O(b);if(null===c||a>c)c=a});return c}function lg(a,b){return a[C][lb](function(a,d){return a+d.O(b)},0)}function ng(a,b){var c=a[C].map(function(a){return a.O(b)});return od[jb](null,c)}function mg(a,b){var c=0,d=a[C][lb](function(a,d){var m=d.O(b);return 0!=m?(c++,a+ea.log(m)):a},0);return 0==c?null:ea.pow(ea.E,d/c)}
function kg(a,b){var c=new N;a[C][q](function(a){var g=a.O(b);c.set(g,a)});return new be(c.c(),a.Y())};
function og(a,b){this.Aa=a;this.pa=b}og[z].mb=G("Aa");og[z].fa=G("pa");function V(){se[D](this,"","")}K(V,se);function pg(a,b){V[D](this);pa(this,a);ma(this,b)}K(pg,V);function qg(a,b){pg[D](this,a,b)}K(qg,pg);function rg(a){V[D](this);pa(this,a)}K(rg,V);f(rg[z],function(){return"delete("+this[u][l]()+")"});function sg(a,b){V[D](this);pa(this,a);this.kf=b}K(sg,V);f(sg[z],function(){var a=[];this.kf&&(a=this.kf.map(function(a){return a.J[l]()},this));return"update("+this[u][l]()+", ["+a[F](",")+"])"});
function tg(a){V[D](this);this.Ga=a}K(tg,V);f(tg[z],function(){return"select("+this.Ga[t]()+")"});function ug(a){V[D](this);pa(this,a)}K(ug,V);f(ug[z],function(){var a="table_access("+this[u][l]();null===this[u].$a()||(a+=" as "+this[u].$a());return a+")"});function vg(){V[D](this)}K(vg,V);f(vg[z],Fb("cross_product"));function wg(a,b){V[D](this);this.h=a;this.Sb=b}K(wg,V);
f(wg[z],function(){var a="project("+this.h[t]();if(null!==this.Sb)var b=this.Sb.map(function(a){return a.l()})[F](", "),a=a+(", groupBy("+b+")");return a+")"});function xg(a){V[D](this);this.K=a}K(xg,V);f(xg[z],function(){return"order_by("+Ae(this.K)+")"});function yg(a){V[D](this);this.h=a}K(yg,V);f(yg[z],function(){return"aggregation("+this.h[t]()+")"});function zg(a){V[D](this);this.h=a}K(zg,V);f(zg[z],function(){return"group_by("+this.h[t]()+")"});function Ag(a){V[D](this);this.oa=a}K(Ag,V);
f(Ag[z],function(){return"limit("+this.oa+")"});function Bg(a){V[D](this);this.na=a}K(Bg,V);f(Bg[z],function(){return"skip("+this.na+")"});function Cg(a){V[D](this);this.Ga=a}K(Cg,V);f(Cg[z],function(){return"join("+this.Ga[t]()+")"});
function Dg(){};
function Eg(){}K(Eg,Dg);Eg[z].Jb=function(a){this.ha=a;this.Za(this.ha);return this.ha};Eg[z].Za=function(a){if(a instanceof tg){L(1==a.xa(),"SelectNode must have exactly one child.");var b=this.yf(a.Ga),b=this.ci(b);Qf(a,a,b[0],b[1]);a==this.ha&&(this.ha=b[0]);a=b[0]}a.N()[q](function(a){this.Za(a)},this)};Eg[z].yf=function(a){if(0==a.xa()||"and"!=a.Wb)return[a];var b=a.N()[w]().map(function(b){a[ub](b);return this.yf(b)},this);return tc(b)};
Eg[z].ci=function(a){var b=null,c=null;a.map(function(a,g){var k=new tg(a);0==g?b=k:c.ia(k);c=k},this);return[b,c]};
function Fg(){}K(Fg,Dg);Fg[z].Jb=function(a){this.ha=a;this.Za(this.ha);return this.ha};Fg[z].Za=function(a){if(a instanceof vg)for(;2<a.xa();){for(var b=new vg,c=0;2>c;c++){var d=a.Vd(0);b.ia(d)}a.Cc(b,0)}a.N()[q](function(a){this.Za(a)},this)};
function Gg(){U[D](this,2,0)}K(Gg,U);f(Gg[z],Fb("cross_product"));Gg[z].ja=function(a,b){for(var c=b[0],d=b[1],g=[],k=c.Y(),m=d.Y(),p=0;p<c[C][y];p++)for(var B=0;B<d[C][y];B++){var Ta=ke(c[C][p],k,d[C][B],m);g[v](Ta)}c=c.Y()[Ka](d.Y());return[new be(g,c)]};

function Hg(a,b){De[D](this,a,b);this.Xa=a.o(Bd);this.Hb=a.o(Cd)}K(Hg,De);xa(Hg[z],Fb(2));Hg[z].Re=function(a){0==this.$()?this.ak(a):this.ed()};Hg[z].ak=function(a){this.Td[q](function(b,c){b instanceof ze&&this.Hb.Zg(b,a[c])},this)};Hg[z].ed=function(){var a=this.Hb.Ee(this.fa().c());0!=a[y]&&(a=new Ee(this[Sa],a),this.Xa.cc(a))};
function Ig(a){xe[D](this,a)}K(Ig,xe);Ig[z].fa=function(){var a=new O([this.f]);a[mb](this.se(a));return a};ta(Ig[z],function(){var a=new Ig(this.ma);a.pd(this);a.f=this.f;return a});oa(Ig[z],function(a){Ig.gb[r][D](this,a);this.ie(a);return this});
function Jg(a){xe[D](this,a)}K(Jg,xe);Jg[z].fa=function(){var a=new O([this.Ra]);a[mb](this.Lf(a));this.ic&&a[mb](this.se(a));return a};ta(Jg[z],function(){var a=new Jg(this.ma);a.pd(this);a.Ra=this.Ra;this[Oa]&&ma(a,this[Oa]instanceof le?this[Oa]:this[Oa][w]());a.ic=this.ic;a.jc=this.jc;return a});oa(Jg[z],function(a){Jg.gb[r][D](this,a);this.jc&&ma(this,this.jc instanceof le?a[this.jc.tb()]:this.jc.map(function(b){return b instanceof le?a[b.tb()]:b}));return this});
function Kg(a){xe[D](this,a)}K(Kg,xe);Kg[z].fa=function(){var a=new O([this[u]]),b=new O;this.set[q](function(a){b.add(a.J)},this);a[mb](this.Lf(a,b));a[mb](this.se(a,b));return a};ta(Kg[z],function(){var a=new Kg(this.ma);a.pd(this);pa(a,this[u]);a.set=this.set?this.set[w]():this.set;return a});oa(Kg[z],function(a){Kg.gb[r][D](this,a);this.set[q](function(b){-1!=b.kd&&wa(b,a[b.kd])});this.ie(a);return this});
function Lg(a,b){if(null==b)return"NULL";switch(a){case 1:return b?1:0;case 3:case 4:return b;case 0:return"'"+fd(b)+"'";default:return"'"+b[t]()+"'"}}function Mg(a,b){var c=a.ic?"INSERT OR REPLACE":"INSERT",d=a.Ra.sb(),c=c+(" INTO "+a.Ra[l]()+"("),c=c+d.map(function(a){return a[l]()})[F](", "),c=c+") VALUES (";return a[Oa].map(function(a){var k=d.map(function(c){var d=a.u()[c[l]()];return b?null!=d?"#":"NULL":Lg(c.$(),d)});return c+k[F](", ")+");"})[F]("\n")}
function Ng(a){switch(a){case "between":return"BETWEEN";case "eq":return"=";case "gte":return">=";case "gt":return">";case "in":return"IN";case "lte":return"<=";case "lt":return"<";case "match":return"LIKE";case "neq":return"<>";default:return"UNKNOWN"}}function Og(a,b,c,d){return a instanceof le?"?"+a.tb()[t]():d?null!=a?"#":"NULL":"match"==b?"'"+a[t]()+"'":"in"==b?"("+a.map(function(a){return Lg(c,a)})[F](", ")+")":"between"==b?Lg(c,a[0])+" AND "+Lg(c,a[1]):Lg(c,a)[t]()}
function Pg(a,b){return a.N().map(function(a){return"("+Qg(a,b)+")"})[F]("and"==a.Wb?" AND ":" OR ")}function Qg(a,b){if(a instanceof we)return[a.J.l(),Ng(a.W),Og(a[x],a.W,a.J.$(),b)][F](" ");if(a instanceof Sf)return Pg(a,b);if(a instanceof $f)return[a.Ta.l(),Ng(a.W),a.fb.l()][F](" ");throw new P(357,typeof a);}function Rg(a,b){var c=Qg(a,b);return c?" WHERE "+c:""}
function Sg(a,b){var c="UPDATE "+a[u][l]()+" SET ",c=c+a.set.map(function(a){var b=a.J.l()+" = ";return-1!=a.kd?b+"?"+a.kd[t]():b+Lg(a.J.$(),a[x])[t]()})[F](", ");a.D&&(c+=Rg(a.D,b));return c+";"}
function Tg(a,b){var c="*";a.h[y]&&(c=a.h.map(function(a){return a.$a()?a.l()+" AS "+a.$a():a.l()})[F](", "));var d=a.f.map(function(a){return a.Ca()!=a[l]()?a[l]()+" AS "+a.Ca():a[l]()})[F](", "),c="SELECT "+c+" FROM "+d;a.D&&(c+=Rg(a.D,b));a.K&&(d=a.K.map(function(a){return a.J.l()+(0==a.ob?" DESC":" ASC")})[F](", "),c+=" ORDER BY "+d);a.la&&(d=a.la.map(function(a){return a.l()})[F](", "),c+=" GROUP BY "+d);a.oa&&(c+=" LIMIT "+a.oa[t]());a.na&&(c+=" SKIP "+a.na[t]());return c+";"}
function Ug(a,b){var c=b||!1,d=a.Vf();if(d instanceof Jg)return Mg(d,c);if(d instanceof Ig){var g="DELETE FROM "+d.f[l]();d.D&&(g+=Rg(d.D,c));return g+";"}if(d instanceof Kg)return Sg(d,c);if(d instanceof ze)return Tg(d,c);throw new P(358,typeof d);};
function Vg(a,b){this.global=a;this.qk=a.o(Ad);this.Xa=a.o(Bd);this.a=b}I("lf.query.BaseBuilder",Vg,void 0);ia(Vg[z],function(){try{this.kb()}catch(a){return Sc(a)}return new M(function(a,c){var d=new Hg(this[Sa],[this.Uc()]);this.Xa.cc(d)[A](function(c){a(c[0].ze())},c)},this)});ia(Vg[z],Vg[z][Ia]);Vg[z].Mf=function(){var a=J(function(a){return a.gd(this.a)+"\n"},this);return Rf(this.Ae().mb(),a)};Vg[z].explain=Vg[z].Mf;oa(Vg[z],function(a){this.a[r](a);return this});oa(Vg[z],Vg[z][r]);
Vg[z].Tk=function(a){return Ug(this,a)};Vg[z].toSql=Vg[z].Tk;H=Vg[z];H.kb=Db();H.Vf=function(){return this.a.clone()};H.Cd=G("a");H.Ae=function(){null==this.yg&&(this.yg=this.qk.kj(this.a));return this.yg};H.Uc=function(){return{context:this.Vf(),Ue:this.Ae()}};H.ij=function(){return{context:this.Cd(),Ue:this.Ae()}};
function Wg(a){Vg[D](this,a,new Ig(a.o(Dd)))}K(Wg,Vg);I("lf.query.DeleteBuilder",Wg,void 0);Wg[z].f=function(a){this.ph();this.a.f=a;return this};Wg[z].from=Wg[z].f;Wg[z].D=function(a){this.he();this.a.D=a;return this};Wg[z].where=Wg[z].D;Wg[z].ph=function(){if(null!=this.a.f)throw new P(515);};Wg[z].he=function(){if(null!=this.a.D)throw new P(516);};Wg[z].kb=function(){Wg.gb.kb[D](this);if(null==this.a.f)throw new P(517);};
function Xg(a,b){Vg[D](this,a,new Jg(a.o(Dd)));this.a.ic=b||!1}K(Xg,Vg);I("lf.query.InsertBuilder",Xg,void 0);Xg[z].kb=function(){Xg.gb.kb[D](this);var a=this.a;if(null==a.Ra||null==a[Oa])throw new P(518);if(a.ic&&null===a.Ra.Gb().Be())throw new P(519);};Xg[z].Ra=function(a){this.qh();this.a.Ra=a;return this};Xg[z].into=Xg[z].Ra;ma(Xg[z],function(a){this.rh();a instanceof le||a[yb](function(a){return a instanceof le})?this.a.jc=a:ma(this.a,a);return this});ma(Xg[z],Xg[z][Oa]);
Xg[z].qh=function(){if(null!=this.a.Ra)throw new P(520);};Xg[z].rh=function(){if(null!=this.a[Oa])throw new P(521);};
function Yg(a){return Zg("and",e[z][w][D](arguments))}I("lf.op.and",Yg,void 0);I("lf.op.or",function(a){return Zg("or",e[z][w][D](arguments))},void 0);function Zg(a,b){var c=new Sf(a);b[q](function(a){c.ia(a)});return c}I("lf.op.not",function(a){a.Yd(!0);return a},void 0);
function W(a,b){Vg[D](this,a,new ze(a.o(Dd)));this.Of=this.bh=!1;this.a.h=b;this.Gh();this.Eh()}K(W,Vg);I("lf.query.SelectBuilder",W,void 0);H=W[z];H.kb=function(){W.gb.kb[D](this);var a=this.a;if(null==a.f)throw new P(522);if(Hb(a.Ub)&&!Hb(a.oa)||Hb(a.fc)&&!Hb(a.na))throw new P(523);this.Ph()};H.Gh=function(){var a=this.a.h[h](function(a){return a instanceof T&&"DISTINCT"==a.hc},this);if(0!=a[y]&&(1!=a[y]||1!=this.a.h[y]))throw new P(524);};H.Ph=function(){null!=this.a.la?this.Kh():this.Oh()};
H.Kh=function(){var a=this.a.h[h](function(a){return!(a instanceof T)}).map(function(a){return a.l()}),b=!1;if(0==this.a.la[y]||0==this.a.h[y])b=!0;else{var c=this.a.la.map(function(a){return a.l()});(b=a[yb](function(a){return-1==c[pb](a)}))||(b=this.a.la[yb](function(a){a=a.$();return 6==a||0==a}))}if(b)throw new P(525);};
H.Oh=function(){var a=this.a.h[yb](function(a){return a instanceof T},this),b=this.a.h[yb](function(a){return!(a instanceof T)},this)||0==this.a.h[y];if(a&&b)throw new P(526);};H.Eh=function(){this.a.h[q](function(a){if(a instanceof T&&!$g(a.hc,a.$()))throw new P(527,a.l());},this)};H.f=function(a){if(this.Of)throw new P(515);this.Of=!0;null==this.a.f&&(this.a.f=[]);this.a.f[v][jb](this.a.f,e[z][w][D](arguments));return this};W[z].from=W[z].f;
W[z].D=function(a){if(this.bh)throw new P(516);this.bh=!0;this.xf(a);return this};W[z].where=W[z].D;W[z].xf=function(a){null!=this.a.D&&(a=Yg(a,this.a.D));this.a.D=a};W[z].Jj=function(a,b){null==this.a.f&&(this.a.f=[]);this.a.f[v](a);this.xf(b);return this};W[z].innerJoin=W[z].Jj;W[z].Qj=function(){throw new P(360);};W[z].leftOuterJoin=W[z].Qj;W[z].oa=function(a){if(null!=(this.a.oa||this.a.Ub))throw new P(528);if(a instanceof le)this.a.Ub=a;else{if(0>a)throw new P(531);this.a.oa=a}return this};
W[z].limit=W[z].oa;W[z].na=function(a){if(null!=(this.a.na||this.a.fc))throw new P(529);if(a instanceof le)this.a.fc=a;else{if(0>a)throw new P(531);this.a.na=a}return this};W[z].skip=W[z].na;W[z].K=function(a,b){null==this.a.K&&(this.a.K=[]);this.a.K[v]({J:a,ob:null!=b?b:1});return this};W[z].orderBy=W[z].K;W[z].la=function(a){if(null!=this.a.la)throw new P(530);null==this.a.la&&(this.a.la=[]);this.a.la[v][jb](this.a.la,e[z][w][D](arguments));return this};W[z].groupBy=W[z].la;
function $g(a,b){switch(a){case "COUNT":case "DISTINCT":return!0;case "AVG":case "GEOMEAN":case "STDDEV":case "SUM":return 4==b||3==b;case "MAX":case "MIN":return 4==b||3==b||5==b||2==b}return!1}ta(W[z],function(){var a=new W(this[Sa],this.a.h);a.a=this.a.clone();a.a.Hc=null;return a});ta(W[z],W[z].clone);
function ah(a,b){Vg[D](this,a,new Kg(a.o(Dd)));pa(this.a,b)}K(ah,Vg);I("lf.query.UpdateBuilder",ah,void 0);ah[z].set=function(a,b){var c={kd:b instanceof le?b.tb():-1,J:a,value:b};null!=this.a.set?this.a.set[v](c):this.a.set=[c];return this};ah[z].set=ah[z].set;ah[z].D=function(a){this.he();this.a.D=a;return this};ah[z].where=ah[z].D;ah[z].he=function(){if(null!=this.a.D)throw new P(516);};
ah[z].kb=function(){ah.gb.kb[D](this);if(null==this.a.set)throw new P(532);if(this.a.set[yb](function(a){return a[x]instanceof le}))throw new P(501);};
function bh(a){this.a=a;this.Aa=null}bh[z].rc=function(){null===this.Aa&&(this.Aa=this.wd());return this.Aa};function ch(a){bh[D](this,a)}K(ch,bh);ch[z].wd=function(){return this.a.ic?new qg(this.a.Ra,this.a[Oa]):new pg(this.a.Ra,this.a[Oa])};function dh(a){bh[D](this,a)}K(dh,bh);dh[z].wd=function(){var a=new sg(this.a[u],this.a.set),b=null!=this.a.D?new tg(this.a.D.Nb()):null,c=new ug(this.a[u]);null===b?a.ia(c):(b.ia(c),a.ia(b));return a};
function eh(a,b){this.Aa=a;this.$e=b}eh[z].rc=function(){this.$e[q](function(a){this.Aa=a.Jb(this.Aa)},this);return this.Aa};
function fh(a){bh[D](this,a)}K(fh,bh);fh[z].wd=function(){var a=new rg(this.a.f),b=null!=this.a.D?new tg(this.a.D.Nb()):null,c=new ug(this.a.f);null===b?a.ia(c):(b.ia(c),a.ia(b));return(new eh(a,[new Eg])).rc()};
function hh(){}K(hh,Dg);hh[z].Jb=function(a){this.ha=a;this.Za(this.ha);return this.ha};hh[z].Za=function(a){if(a instanceof tg&&a.Ga instanceof $f){L(1==a.xa(),"SelectNode must have exactly one child.");var b=a.rb(0);if(b instanceof vg){var c=new Cg(a.Ga);Qf(a,b,c,c);a==this.ha&&(this.ha=c);a=c}}a.N()[q](function(a){this.Za(a)},this)};
function ih(){this.fe=new O}K(ih,Dg);H=ih[z];H.Jb=function(a){this.ha=a;this.Za(this.ha);this.fe[Pa]();return this.ha};H.Za=function(a){if(this.dg(a)){var b=a.Ga instanceof we?this.nk(a):this.mk(a);this.fe.add(a);b==a&&(b=a.rb(0));null!==b&&(Lb(b[Ga]())&&(this.ha=b),this.dg(b)&&!this.fe[ib](b)&&this.Za(b))}else a.N()[q](function(a){this.Za(a)},this)};
H.Sd=function(a,b){var c=a;if(this.Kk(a))c=Of(a),this.Sd(a,b);else if(this.Jk(a)){var d=[],c=Pf(a,b,function(a){a=new tg(a.Ga);d[v](a);return a});d[q](function(a){this.Sd(a,b)},this)}return c};H.nk=function(a){var b=new O([a.Ga.J.X().Ca()]),c=function(a){return this.Jf(a,b)}[r](this);return this.Sd(a,c)};H.mk=function(a){var b=new O([a.Ga.Ta.X().Ca(),a.Ga.fb.X().Ca()]),c=function(a){return this.Jf(a,b)}[r](this);return this.Sd(a,c)};
H.Jf=function(a,b){var c=new O;Kf(a)[q](function(a){c.add(a[u].Ca())},this);a instanceof ug&&c.add(a[u].Ca());return c.$h(b)};H.dg=function(a){return a instanceof tg&&!(a.Ga instanceof Sf)};H.Jk=function(a){a=a.rb(0);return a instanceof vg||a instanceof Cg};H.Kk=function(a){return a.rb(0)instanceof tg};
function jh(a){bh[D](this,a);this.Dg=this.og=this.Pg=this.ug=this.sf=this.$f=this.Mg=this.Gf=this.Rg=null}K(jh,bh);H=jh[z];H.wd=function(){this.Ti();var a=this.Wh(),b=[new Eg,new Fg,new ih,new hh];return(new eh(a,b)).rc()};H.Ti=function(){this.Zi();this.Oi();this.Xi();this.Ui();this.Yi();this.Si();this.Qi();this.Ni();this.Vi()};
H.Wh=function(){for(var a=[this.og,this.Pg,this.Dg,this.ug,this.sf,this.$f,this.Mg,this.Gf],b=null,c=null,d=0;d<a[y];d++){var g=a[d];null!==g&&(null===c?c=g:a[b].ia(g),b=d)}this.Rg[q](function(c){a[b].ia(c)});return c};H.Zi=function(){this.Rg=this.a.f.map(function(a){return new ug(a)},this)};H.Oi=function(){2<=this.a.f[y]&&(this.Gf=new vg)};H.Xi=function(){this.Mg=null!=this.a.D?new tg(this.a.D.Nb()):null};H.Ui=function(){this.a.K&&(this.ug=new xg(this.a.K))};
H.Si=function(){null!=this.a.oa&&(this.og=new Ag(this.a.oa))};H.Yi=function(){null!=this.a.na&&0<this.a.na&&(this.Pg=new Bg(this.a.na))};H.Qi=function(){null!=this.a.la&&(this.$f=new zg(this.a.la))};H.Ni=function(){var a=this.a.h[h](function(a){return a instanceof T});null!=this.a.K&&this.a.K[q](function(b){b.J instanceof T&&a[v](b.J)});0<a[y]&&(this.sf=new yg(a))};H.Vi=function(){this.Dg=new wg(this.a.h||[],this.a.la||null)};
function kh(){}kh[z].create=function(a){var b=null;if(a instanceof Jg)b=new ch(a);else if(a instanceof Ig)b=new fh(a);else if(a instanceof ze)b=new jh(a);else if(a instanceof Kg)b=new dh(a);else throw new P(513);b=b.rc();return new og(b,a.fa())};
function lh(a){U[D](this,1,1);this.L=a}K(lh,U);f(lh[z],function(){return"delete("+this.L[l]()+")"});lh[z].ja=function(a,b){var c=b[0][C].map(function(a){return a.wa});a[n](this.L,c);return[ee()]};
function mh(a){U[D](this,1,1);this.Zf=a}K(mh,U);f(mh[z],function(){return"groupBy("+this.Zf.map(function(a){return a.l()})[t]()+")"});mh[z].ja=function(a,b){return this.Ah(b[0])};mh[z].Ah=function(a){var b=new Zf,c=function(a){return this.Zf.map(function(b){return a.O(b)},this)[F](",")}[r](this);a[C][q](function(a){b.add(c(a),a)},this);return b.H().map(function(c){return new be(b.get(c),a.Y())},this)};
function nh(a){L(1<a[y],"Should only be called for cross-column indices.");a=a.map(function(a){return a.c()});a=td[jb](null,a);var b=[];sd(a,function(a){b[v](a)});return b}function oh(a){this.Tb=a}oh[z].zd=function(){return 1==this.Tb.h[y]?[$d()]:[this.Tb.h.map(function(){return $d()})]};function ph(a,b){this.Tb=a;this.ua=b;this.me=this.mg=null}
ph[z].Bh=function(a){var b=new N;this.ua.H()[q](function(c){var d=this.ua.get(c).map(function(b){return a.Dd(b)},this),g=new Hf([$d()]);d[q](function(a){a=new Hf(a.Sk());g=If(g,a)});b.set(c,g)},this);return b};ph[z].Fi=function(a){for(var b=this.Tb.h[y]-1;0<=b;b--){var c=this.Tb.h[b];if(null!==a.get(c.ma[l](),null))break;a.set(c.ma[l](),new Hf([$d()]))}};ph[z].zd=function(a){if(this.mg==a)return this.me;var b=this.Bh(a);this.Fi(b);this.me=1==this.Tb.h[y]?b.c()[0].c():nh(this.rj(b));this.mg=a;return this.me};
ph[z].rj=function(a){var b=new N,c=0;this.Tb.h[q](function(a){b.set(a.ma[l](),c);c++});return a.H()[zb](function(a,c){return b.get(a)-b.get(c)}).map(function(b){return a.get(b)})};
function qh(a,b){this.Tg=b;this.I=a.o(zd)}qh[z].Sh=function(a,b){var c=b[h](this.Kj,this);if(0==c[y])return null;c=this.Ri(c);if(0==c[y])return null;if(1==c[y])return c[0];var d=Number.MAX_VALUE;return c[lb](function(b,c){var m=c.zh(a);return m<d?(d=m,c):b},null)};qh[z].Ri=function(a){return this.Tg.Da().map(function(b){b=new rh(this.I,b);b.Zh(a);return b},this)[h](function(a){return a.Pj()})};qh[z].Kj=function(a){return a instanceof we&&a.eg()?a.J.X()==this.Tg:!1};
function rh(a,b){this.I=a;this.vb=b;this.bg=new O;this.bg[mb](this.vb.h.map(function(a){return a.ma[l]()}));this.Me=this.ua=null}H=rh[z];H.lj=function(){return null===this.ua?[]:this.ua.c()};H.Uf=function(){L(this.ua);null===this.Me&&(this.Me=new ph(this.vb,this.ua));return this.Me};H.Zh=function(a){a[q](function(a){var c=a.sb()[0][l]();this.bg[ib](c)&&(null===this.ua&&(this.ua=new Zf),this.ua.add(c,a.ka()))},this)};
H.Pj=function(){if(null===this.ua)return!1;for(var a=!1,b=!0,c=0;c<this.vb.h[y];c++){var d=this.ua.A(this.vb.h[c].ma[l]());if(a&&d){b=!1;break}d||(a=!0)}return b};H.zh=function(a){a=this.Uf().zd(a);var b=this.I.get(this.vb.l());return a[lb](function(a,d){return a+b.sd(d)},0)};
function sh(a,b,c,d){U[D](this,0,-1);this.I=a.o(zd);this.index=b;this.kg=c;this.Ze=d;this.ce=this.be=!1}K(sh,U);f(sh[z],function(){return"index_range_scan("+this[Za].l()+", ?, "+(this.Ze?"reverse":"natural")+(this.be?", limit:?":"")+(this.ce?", skip:?":"")+")"});sh[z].gd=function(a){var b=this[t](),c=this.kg.zd(a),b=b[Ja]("?",c[t]());this.be&&(b=b[Ja]("?",a.oa[t]()));this.ce&&(b=b[Ja]("?",a.na[t]()));return b};
sh[z].ja=function(a,b,c){a=this.kg.zd(c);c=this.I.get(this[Za].l()).ab(a,this.Ze,this.be?c.oa:void 0,this.ce?c.na:void 0).map(function(a){return new bd(a,{})},this);return[he(c,[this[Za].ef])]};
function th(a){U[D](this,1,1);this.Rd=a}K(th,U);f(th[z],Fb("select(?)"));th[z].gd=function(a){a=a.Dd(this.Rd);return this[t]()[Ja]("?",a[t]())};th[z].ja=function(a,b,c){return[c.Dd(this.Rd).eval(b[0])]};
function uh(a,b){U[D](this,1,1);this.qa=a.o(yd);this.L=b}K(uh,U);f(uh[z],function(){return"table_access_by_row_id("+this.L[l]()+")"});uh[z].ja=function(a,b){return[he(this.qa.get(b[0].qj()),[this.L.Ca()])]};
function vh(a,b){U[D](this,0,-1);this.qa=a.o(yd);this.I=a.o(zd);pa(this,b)}K(vh,U);f(vh[z],function(){var a="table_access("+this[u][l]();null===this[u].$a()||(a+=" as "+this[u].$a());return a+")"});vh[z].ja=function(){var a=this.I.get(this[u].Rb()).ab();return[he(this.qa.get(a),[this[u].Ca()])]};
function wh(a){this.m=a}K(wh,Dg);wh[z].Jb=function(a,b){this.ha=a;Lf(a,function(a){return a instanceof vh})[q](function(a){var d=this.Li(a);if(0!=d[y]){var g=(new qh(this.m,a[u])).Sh(b,d.map(function(a){return b.Dd(a.Rd)}));if(null!==g){var k=new N;d[q](function(a){k.set(a.Rd,a)},this);this.ha=this.zk(g,k,a,b)}}},this);return this.ha};wh[z].Li=function(a){var b=[];for(a=a[Ga]();a;)a instanceof th&&b[v](a),a=a[Ga]();return b};
wh[z].zk=function(a,b,c){a.lj().map(function(a){return b.get(a)})[q](Mf);a=new sh(this.m,a.vb,a.Uf(),!1);var d=new uh(this.m,c[u]);d.ia(a);Qf(c,c,d,a);return a.mb()};
function xh(a,b){U[D](this,0,-1);this.I=a.o(zd);this.L=b}K(xh,U);f(xh[z],function(){return"insert("+this.L[l]()+")"});xh[z].ja=function(a,b,c){yh(this.L,c[Oa],this.I);a.wb(this.L,c[Oa]);return[he(c[Oa],[this.L[l]()])]};function yh(a,b,c){a=a.Gb().Be();if(null===a?0:a.h[0][Na]){var d=a.h[0].ma[l](),g=c.get(a.l()).max()[0]||0;b[q](function(a){if(0==a.u()[d]||null==a.u()[d])g++,a.u()[d]=g})}}function zh(a,b){U[D](this,0,-1);this.I=a.o(zd);this.L=b}K(zh,U);
f(zh[z],function(){return"insert_replace("+this.L[l]()+")"});zh[z].ja=function(a,b,c){yh(this.L,c[Oa],this.I);a.He(this.L,c[Oa]);return[he(c[Oa],[this.L[l]()])]};
function Ah(a){U[D](this,2,0);this.Cg=a}K(Ah,U);f(Ah[z],function(){return"join("+this.Cg[t]()+")"});Ah[z].ja=function(a,b){return[this.Cg.pi(b[0],b[1])]};
function Bh(){U[D](this,1,1)}K(Bh,U);f(Bh[z],Fb("limit(?)"));Bh[z].gd=function(a){return this[t]()[Ja]("?",a.oa[t]())};Bh[z].ja=function(a,b,c){b[0][C][E](c.oa);return b};
function Ch(a){U[D](this,-1,1);this.K=a}K(Ch,U);H=Ch[z];f(H,function(){return"order_by("+Ae(this.K)+")"});H.ja=function(a,b){if(1==b[y]){var c=this.Hi(b[0]);(null===c?b[0]:b[0].sc(c))[C][zb](this.mi[r](this))}else b[zb](this.vk[r](this));return b};H.Hi=function(a){for(var b=null,c=0;c<this.K[y];c++){var d=fg(this.K[c].J);if(a.Cj(d)){b=d;break}}return b};
H.M=function(a,b){var c=null,d=null,g=null,k=-1;do k++,g=this.K[k].J,c=this.K[k].ob,d=a(g),g=b(g);while(d==g&&k+1<this.K[y]);d=d<g?-1:d>g?1:0;return 1==c?d:-d};H.vk=function(a,b){return this.M(function(b){return b instanceof T?a.sc(b):a[C][a[C][y]-1].O(b)},function(a){return a instanceof T?b.sc(a):b[C][b[C][y]-1].O(a)})};H.mi=function(a,b){return this.M(function(b){return a.O(b)},function(a){return b.O(a)})};
function Dh(a,b){this.Ha=a;this.G=b}Dh[z].Yf=function(){return this.G[yb](function(a){return a instanceof T},this)?this.Aj():this.Bj()};
Dh[z].Aj=function(){if(1==this.G[y]&&"DISTINCT"==this.G[0].hc){var a=this.Ha.sc(this.G[0])[C].map(function(a){var b=new ie(new bd(-1,{}),this.Ha.Je());b.bf(this.G[0],a.O(this.G[0][gb]));return b},this);return new be(a,[])}var b=new ie(new bd(-1,{}),this.Ha.Je());this.G[q](function(a){var d=a instanceof T?this.Ha.sc(a):this.Ha[C][0].O(a);b.bf(a,d)},this);return new be([b],this.Ha.Y())};
Dh[z].Bj=function(){var a=e(this.Ha[C][y]),b=this.Ha.Je();this.Ha[C][q](function(c,d){a[d]=new ie(new bd(c.wa.id(),{}),b);this.G[q](function(b){a[d].bf(b,c.O(b))},this)},this);return new be(a,this.Ha.Y())};function Eh(a,b){var c=a.map(function(a){return(new Dh(a,b)).Yf()[C][0]});return new be(c,a[0].Y())};
function Fh(a,b){U[D](this,-1,1);this.h=a;this.Sb=b}K(Fh,U);H=Fh[z];f(H,function(){var a="project("+this.h[t]();if(null!==this.Sb)var b=this.Sb.map(function(a){return a.l()})[F](", "),a=a+(", groupBy("+b+")");return a+")"});H.ja=function(a,b){return 0==b[y]?[ee()]:1==b[y]?[this.yi(b[0])]:[this.wi(b)]};H.Dj=function(){return this.h[yb](function(a){return a instanceof T})||null!==this.Sb};H.wi=function(a){return Eh(a,this.h)};H.yi=function(a){return 0==this.h[y]?a:(new Dh(a,this.h)).Yf()};
function Gh(){U[D](this,1,1)}K(Gh,U);f(Gh[z],Fb("skip(?)"));Gh[z].gd=function(a){return this[t]()[Ja]("?",a.na[t]())};Gh[z].ja=function(a,b,c){return[new be(b[0][C][w](c.na),b[0].Y())]};
function Hh(){}K(Hh,Dg);Hh[z].Jb=function(a){var b=Lf(a,function(a){return a instanceof Bh||a instanceof Gh});if(0==b[y])return a;var c=this.Ki(a);if(null===c)return a;b[q](function(a){this.Yj(a,c)},this);return c.mb()};Hh[z].Yj=function(a,b){a instanceof Bh?b.be=!0:b.ce=!0;return Mf(a).parent};Hh[z].Ki=function(a){a=Lf(a,function(a){return a instanceof sh},function(a){return a instanceof Fh&&a.Dj()||a instanceof Ch||1!=a.xa()||a instanceof th});return 0<a[y]?a[0]:null};
function Ih(a){this.m=a}K(Ih,Dg);Ih[z].Jb=function(a){var b=Jh(a);if(null===b)return a;a=this.oh(b);a==b&&(a=this.nh(b));return a.mb()};Ih[z].oh=function(a){var b=a,c=Kh(a.rb(0));if(null!==c){var d;d=a.K;for(var g=null,k=c[u].Da(),m=0;m<k[y]&&null===g;m++)g=Lh(k[m],d);d=g;if(null===d)return b;b=new sh(this.m,d.vb,new oh(d.vb),d.hg);d=new uh(this.m,c[u]);d.ia(b);Mf(a);b=Qf(c,c,d,b)}return b};
Ih[z].nh=function(a){var b=a,c=Mh(a.rb(0));if(null!==c){var d=Lh(c[Za],a.K);if(null===d)return b;c.Ze=d.hg;b=Mf(a).parent}return b};function Mh(a){a=Lf(a,function(a){return a instanceof sh},function(a){return 1!=a.xa()});return 0<a[y]?a[0]:null}function Kh(a){a=Lf(a,function(a){return a instanceof vh},function(a){return 1!=a.xa()});return 0<a[y]?a[0]:null}function Jh(a){a=Lf(a,function(a){return a instanceof Ch});return 0<a[y]?a[0]:null}
function Lh(a,b){if(a.h[y]!=b[y]||!b[Ab](function(b,c){return b.J[l]()==a.h[c].ma[l]()}))return null;var c=Nh(b,a);return c[0]||c[1]?{vb:a,hg:c[1]}:null}function Nh(a,b){var c=a[lb](function(a,b){return a<<1|(0==b.ob?0:1)},0),d=b.h[lb](function(a,b){return a<<1|(0==b.ob?0:1)},0),d=c^d,c=0==d,d=d==ea.pow(2,ea.max(a[y],b.h[y]))-1;return[c,d]};
function Oh(a,b,c){this.Aa=a;this.pk=b;this.$e=c}Oh[z].rc=function(){this.$e[q](function(a){this.Aa=a.Jb(this.Aa,this.pk)},this);return this.Aa};
function Ph(a,b){U[D](this,1,1);this.L=a;this.$k=b}K(Ph,U);f(Ph[z],function(){return"update("+this.L[l]()+")"});Ph[z].ja=function(a,b){var c=b[0][C].map(function(a){var b=this.L.oc(a.wa.Ia());this.$k[q](function(a){b.u()[a.J[l]()]=a[x]},this);return b},this);a[Bb](this.L,c);return[ee()]};
function Qh(a){this.m=a}Qh[z].create=function(a,b){var c=a.mb();if(c instanceof qg||c instanceof pg)return this.qe(a,b);if(c instanceof wg||c instanceof Ag||c instanceof Bg)return this.qe(a,b,[new wh(this.m),new Ih(this.m),new Hh]);if(c instanceof rg||c instanceof sg)return this.qe(a,b,[new wh(this.m)]);throw new P(8);};Qh[z].qe=function(a,b,c){var d=Jf(a.mb(),J(this.Uj,this));null!=c&&(d=(new Oh(d,b,c)).rc());return new Be(d,a.fa())};
Qh[z].Uj=function(a){if(a instanceof wg)return new Fh(a.h,a.Sb);if(a instanceof zg)return new mh(a.h);if(a instanceof yg)return new gg(a.h);if(a instanceof xg)return new Ch(a.K);if(a instanceof Bg)return new Gh;if(a instanceof Ag)return new Bh;if(a instanceof tg)return new th(a.Ga.ka());if(a instanceof vg)return new Gg;if(a instanceof Cg)return new Ah(a.Ga);if(a instanceof ug)return new vh(this.m,a[u]);if(a instanceof rg)return new lh(a[u]);if(a instanceof sg)return new Ph(a[u],a.kf);if(a instanceof
qg)return new zh(this.m,a[u]);if(a instanceof pg)return new xh(this.m,a[u]);throw new P(514);};

function Rh(a){this.Sj=new kh;this.ik=new Qh(a)}Rh[z].kj=function(a){var b=this.Sj[Va](a);return this.ik[Va](b,a)};
function Sh(){this.qg=new N}H=Sh[z];H.yd=function(a){var b=this.qg.get(a[l](),null);null===b&&(b=new Th,this.qg.set(a[l](),b));return b};H.xj=function(a,b,c){b[q](function(b){this.yd(b).wj(a,c)},this)};H.Dh=function(a,b,c){return b[Ab](function(b){return this.yd(b).Ch(a,c)},this)};H.Gg=function(a,b,c){var d=this.Dh(a,b,c);d&&this.xj(a,b,c);return d};H.releaseLock=function(a,b){b[q](function(b){this.yd(b).releaseLock(a)},this)};H.Th=function(a){a[q](function(a){this.yd(a).eb=null},this)};
function Th(){this.ec=this.Va=this.eb=this.Nc=null}Th[z].releaseLock=function(a){this.Nc==a&&(this.Nc=null);this.eb==a&&(this.eb=null);null===this.Va||this.Va[n](a);null===this.ec||this.ec[n](a)};Th[z].Ch=function(a,b){var c=null===this.Va||this.Va.Fa();return 0==b?(null===this.ec||this.ec.Fa())&&c&&null===this.Nc&&null!==this.eb&&this.eb==a:3==b?null===this.Nc&&null===this.eb&&null!==this.Va&&this.Va[ib](a):1==b?null===this.eb:c&&(null===this.eb||this.eb==a)};
Th[z].wj=function(a,b){0==b?(this.eb=null,this.Nc=a):3==b?(null===this.ec&&(this.ec=new O),this.ec.add(a),null===this.Va&&(this.Va=new O),this.Va[n](a)):1==b?(null===this.Va&&(this.Va=new O),this.Va.add(a)):2==b&&(this.eb=a)};
function Uh(){this.ac=new Vh;this.Zc=new Sh}H=Uh[z];H.cc=function(a){(2>a[qb]()||2>a[qb]())&&this.Zc.Th(a.fa().c());this.ac.wb(a);this.pe();return a.Sc().ga};H.pe=function(){for(var a=this.ac.c(),b=0;b<a[y];b++){var c=a[b],d=!1;if(d=0==c.$()?this.Hg(c,1,3):this.Hg(c,2,0))this.ac[n](c),this.zi(c)}};H.Hg=function(a,b,c){var d=!1,g=a.fa().c();this.Zc.Gg(a.ka(),g,b)&&(d=this.Zc.Gg(a.ka(),g,c));return d};H.zi=function(a){a[Ia]()[A](J(this.ek,this,a),J(this.dk,this,a))};
H.ek=function(a,b){this.Zc.releaseLock(a.ka(),a.fa().c());a.Sc()[xb](b);this.pe()};H.dk=function(a,b){this.Zc.releaseLock(a.ka(),a.fa().c());a.Sc()[kb](b);this.pe()};function Vh(){this.ac=[]}Vh[z].wb=function(a){rc(this.ac,a,function(a,c){var d=a[qb]()-c[qb]();return 0==d?a.ka()-c.ka():d})};Vh[z].c=function(){return this.ac[w]()};ka(Vh[z],function(a){var b=this.ac;a=dc(b,a);var c;(c=0<=a)&&jc(b,a);return c});

function Wh(a,b){this.oi=me.ye();this.We=a;this.Nd=b;this.G=this.hi()}Wh[z].hi=function(){if(0<this.We.h[y])return this.We.h;var a=[];this.We.f[q](function(b){b.sb()[q](function(b){a[v](b)})});return a};Wh[z].M=function(a,b){return this.G[Ab](function(c){return this.oi.xe(c.$(),"eq")(a.O(c),b.O(c))},this)};
Wh[z].mh=function(a,b){for(var c=null===a?[]:a[C],d=kd(c,b[C],J(this.M,this),function(a){return c[a]}),g=[],k=0,m=0;m<c[y];m++){var p=c[m];d[k]==p?k++:(p=this.Nd[E](k,1),p=Xh(m,p,0,this.Nd),g[v](p))}d=kd(c,b[C],J(this.M,this),function(a,c){return b[C][c]});for(m=k=0;m<b[C][y];m++)p=b[C][m],d[k]==p?k++:(this.Nd[E](m,0,p.wa.u()),p=Xh(m,[],1,this.Nd),g[v](p));return g};function Xh(a,b,c,d){return{al:c,index:a,object:d,cl:b,type:"splice"}};
function Yh(){this.qc=new N}H=Yh[z];H.Ce=function(a){return Qb(a)[t]()};H.ee=function(a,b){var c=this.Ce(a.Cd()),d=this.qc.get(c,null);null===d&&(d=new Zh(a),this.qc.set(c,d));d.ee(b)};H.Ye=function(a,b){var c=this.Ce(a.Cd()),d=this.qc.get(c,null);L(null!=d,"Attempted to unobserve a query that was not observed.");var g=d.Ye(b);L(g,"removeObserver: Inconsistent state detected.");d.Fj()||this.qc[n](c)};
H.Ee=function(a){var b=new O;a[q](function(a){b.add(a[l]())});var c=[];this.qc.c()[q](function(a){a=a.Uc();a[Ea].f[yb](function(a){return b[ib](a[l]())})&&c[v](a)});return c};H.Zg=function(a,b){var c=this.Ce(null!=a.Hc?a.Hc:a),c=this.qc.get(c,null);return null!==c?(c.Zk(b),!0):!1};function Zh(a){this.xh=a;this.bd=new O;this.bk=[];this.ng=null;this.ki=new Wh(a.Cd(),this.bk)}H=Zh[z];H.ee=function(a){this.bd[ib](a)?$b("Attempted to register observer twice."):this.bd.add(a)};H.Ye=function(a){return this.bd[n](a)};
H.Uc=function(){return this.xh.ij()};H.Fj=function(){return 0<this.bd.ra()};H.Zk=function(a){var b=this.ki.mh(this.ng,a);this.ng=a;0<b[y]&&this.bd.c()[q](function(a){a(b)})};
function $h(a,b){var c=a.o(Dd),d=b||{},g=new ef;a.pb(yd,g);var g=null,k=!1;switch(d.storeType||0){case 1:g=new Se(c);break;case 5:g=new Te(c);break;case 4:g=new Xe(a,c,d.webSqlDbSize);break;case 3:g=new Me(c,d.firebase);k=!0;break;default:g=new Qe(a,c)}a.pb(xd,g);var m=new Ff;a.pb(zd,m);return g.Ea(d.onUpgrade)[A](function(){a.pb(Ad,new Rh(a));var b=new Uh;a.pb(Bd,b);b=new Yh;a.pb(Cd,b);return m.Ea(c)})[A](function(){k&&(new Ge(a)).Ok();return(new Ef(a)).Ea(c)})};

function ai(a,b){this.m=a;this.Bb=a.o(xd);this.Xa=a.o(Bd);this.Hb=a.o(Cd);this.pa=new O(b);this.Sa=new Xd(this.m,this.pa.c());this.bc=Wc();this.Oc=Wc();this.mf=Wc()}H=ai[z];ia(H,function(){this.mf[xb]();return this.Oc.ga});H.$=Fb(1);H.fa=G("pa");H.Sc=G("bc");H.ka=function(){return Qb(this)};xa(H,Fb(2));H.dh=function(){this.Xa.cc(this);return this.mf.ga};
H.uh=function(a){a=a.Uc();return a.Ue.mb()[Ia](this.Sa,a[Ea])[A](function(a){return a[0].ze()},J(function(a){this.Sa.Kb();var c=new Nc(a[sb]);this.Oc[kb](c);throw a;},this))};H.V=function(){this.Bb.Ob(this.$(),this.Sa).V()[A](J(function(){this.ed();this.Oc[xb]()},this),J(function(a){this.Sa.Kb();this.Oc[kb](a)},this));return this.bc.ga};H.Kb=function(){this.Sa.Kb();this.Oc[xb]();return this.bc.ga};H.ed=function(){var a=this.Hb.Ee(this.pa.c());0!=a[y]&&(a=new Ee(this.m,a),this.Xa.cc(a))};
function bi(a){this.m=a;this.Xa=a.o(Bd);this.hd=null;this.Ja=0}I("lf.proc.Transaction",bi,void 0);var ci=new N(0,new O([1,4]),1,new O([2]),2,new O([3,5,6]),3,new O([2,7]),4,new O([7]),5,new O([7]),6,new O([7]));bi[z].Ma=function(a){var b=ci.get(this.Ja,null);if(null===b||!b[ib](a))throw new P(107,this.Ja,a);this.Ja=a};
ia(bi[z],function(a){this.Ma(4);var b=[];try{a[q](function(a){a.kb();b[v](a.Uc())},this)}catch(c){return this.Ma(7),Sc(c)}a=new Hg(this.m,b);return this.Xa.cc(a)[A](J(function(a){this.Ma(7);return a.map(function(a){return a.ze()})},this),J(function(a){this.Ma(7);throw a;},this))});ia(bi[z],bi[z][Ia]);bi[z].vh=function(a){this.Ma(1);this.hd=new ai(this.m,a);return this.hd.dh()[A](J(function(){this.Ma(2)},this))};bi[z].begin=bi[z].vh;
bi[z].th=function(a){this.Ma(3);return this.hd.uh(a)[A](J(function(a){this.Ma(2);return a},this),J(function(a){this.Ma(7);throw a;},this))};bi[z].attach=bi[z].th;bi[z].V=function(){this.Ma(5);return this.hd.V()[A](J(function(){this.Ma(7)},this))};bi[z].commit=bi[z].V;bi[z].Kb=function(){this.Ma(6);return this.hd.Kb()[A](J(function(){this.Ma(7)},this))};bi[z].rollback=bi[z].Kb;
function X(a){this.m=a;this.s=a.o(Dd);this.Ge=!1}I("lf.proc.Database",X,void 0);X[z].Ea=function(a){this.m.pb(Dd,this.s);return $h(this.m,a)[A](J(function(){this.Ge=!0;return this},this))};X[z].init=X[z].Ea;X[z].ub=G("s");X[z].getSchema=X[z].ub;X[z].mc=function(){if(!this.Ge)throw new P(2);};X[z].select=function(a){this.mc();return new W(this.m,1!=arguments[y]||null!=arguments[0]?e[z][w][D](arguments):[])};X[z].select=X[z].select;X[z].wb=function(){this.mc();return new Xg(this.m)};X[z].insert=X[z].wb;
X[z].He=function(){this.mc();return new Xg(this.m,!0)};X[z].insertOrReplace=X[z].He;Da(X[z],function(a){this.mc();return new ah(this.m,a)});Da(X[z],X[z][Bb]);ya(X[z],function(){this.mc();return new Wg(this.m)});X[z]["delete"]=X[z][rb];X[z].observe=function(a,b){this.m.o(Cd).ee(a,b)};X[z].observe=X[z].observe;X[z].unobserve=function(a,b){this.m.o(Cd).Ye(a,b)};X[z].unobserve=X[z].unobserve;X[z].fi=function(){this.mc();return new bi(this.m)};X[z].createTransaction=X[z].fi;
sa(X[z],function(){try{this.m.o(xd)[cb]()}catch(a){}this.m[Pa]();this.Ge=!1});sa(X[z],X[z][cb]);
function Y(a,b,c,d,g,k){this.L=a;this.B=b;this.jg=c;this.gg=d;this.Yg=g;this.jb=k||null;this.i=this.C=null}I("lf.schema.BaseColumn",Y,void 0);H=Y[z];ja(H,G("B"));H.l=function(){return this.L.Ca()+"."+this.B};f(H,function(){return this.l()});H.X=G("L");H.$=G("Yg");H.$a=G("jb");H.Da=function(){null==this.ta&&(this.ta=[],this.X().Da()[q](function(a){-1!=a.h.map(function(a){return a.ma[l]()})[pb](this.B)&&this.ta[v](a)},this));return this.ta};H.vc=G("gg");H.Xc=G("jg");H.Zd=Eb("C");H.getParent=G("C");
H.Fk=Eb("i");H.N=G("i");H.Qa=function(a){return ag(this,a,"eq")};Y[z].eq=Y[z].Qa;Y[z].rg=function(a){return ag(this,a,"neq")};Y[z].neq=Y[z].rg;Y[z].Ne=function(a){return ag(this,a,"lt")};Y[z].lt=Y[z].Ne;Y[z].Tj=function(a){return ag(this,a,"lte")};Y[z].lte=Y[z].Tj;Y[z].yj=function(a){return ag(this,a,"gt")};Y[z].gt=Y[z].yj;Y[z].zj=function(a){return ag(this,a,"gte")};Y[z].gte=Y[z].zj;Y[z].match=function(a){return ag(this,a,"match")};Y[z].match=Y[z].match;
Y[z].wh=function(a,b){return ag(this,[a,b],"between")};Y[z].between=Y[z].wh;Y[z].Gj=function(a){return ag(this,a,"in")};Y[z]["in"]=Y[z].Gj;Y[z].Nj=function(){return this.Qa(null)};Y[z].isNull=Y[z].Nj;Y[z].Mj=function(){return this.rg(null)};Y[z].isNotNull=Y[z].Mj;Y[z].Ec=function(a){return new Y(this.L,this.B,this.jg,this.gg,this.Yg,a)};Y[z].as=Y[z].Ec;
function di(){this.Xd=new N}var ei;na(di[z],function(){this.Xd[Pa]()});na(di[z],di[z][Pa]);di[z].pb=function(a,b){this.Xd.set(a[t](),b);return b};di[z].registerService=di[z].pb;di[z].o=function(a){var b=this.Xd.get(a[t](),null);if(null==b)throw new P(7,a[t]());return b};di[z].getService=di[z].o;di[z].Le=function(a){return this.Xd.A(a[t]())};di[z].isRegistered=di[z].Le;
function fi(a,b,c){this.lk=a;this.$j=b;this.Mi=c}fi[z].Be=G("lk");fi[z].hj=G("$j");fi[z].Sf=G("Mi");
function gi(a,b){var c=a.ref[ab](".");if(2!=c[y])throw new P(540,b);this.Cb=a.local;this.Xb=c[0];this.Ib=c[1];this.Fb=b;this.action=a.action;this.timing=a[tb]};
function Z(a){this.B=a;this.G=new Ze;this.hf=new cf;this.Ac=new cf;this.Md=new cf;var b=this.B;this.xc="pk"+(b[0].toUpperCase()+b.substring(1));this.ta=new Ze;this.Qd=!1;this.nc(a);this.Nf=[]}I("lf.schema.TableBuilder",Z,void 0);function hi(a){Aa(this,a[sb]);this.ob=a.order;this.autoIncrement=a[Na]}var ii=new cf([0,6]);Z[z].nc=function(a){if(!/^[A-Za-z_][A-Za-z0-9_]*$/.test(a))throw new P(502,a);if(this.G.has(a)||this.ta.has(a)||this.Ac.has(a))throw new P(503,this.B+"."+a);};
Z[z].Nh=function(a){var b=!1;a[q](function(a){var d=this.G.get(a[sb]);b=b||a[Na];if(a[Na]&&3!=d)throw new P(504);},this);if(b&&1<a[y])throw new P(505);};Z[z].fh=function(a,b){this.nc(a);this.G.set(a,b);ii.has(b)&&this.qf([a]);return this};Z[z].addColumn=Z[z].fh;Z[z].hh=function(a,b){this.nc(this.xc);var c=this.Ld(a,!0,void 0,b);this.Nh(c);1==c[y]&&this.hf.add(c[0][sb]);this.Ac.add(this.xc);this.ta.set(this.xc,c);return this};Z[z].addPrimaryKey=Z[z].hh;
Z[z].gh=function(a,b){this.nc(a);var c=new gi(b,this.B+"."+a);Hb(c.action)||(c.action=0);Hb(c[tb])||(c.timing=0);if(1==c.action&&1==c[tb])throw new P(506);if(!this.G.has(c.Cb))throw new P(540,a);this.Nf[v](c);this.pf(a,[c.Cb],!1);return this};Z[z].addForeignKey=Z[z].gh;Z[z].ih=function(a,b){this.nc(a);var c=this.Ld(b,!0);1==c[y]&&this.hf.add(c[0][sb]);this.ta.set(a,c);this.Ac.add(a);return this};Z[z].addUnique=Z[z].ih;
Z[z].qf=function(a){a=this.Ld(a,!1);this.Mh(a);a[q](function(a){this.Md.add(a[sb])},this);return this};Z[z].addNullable=Z[z].qf;Z[z].Mh=function(a){$e(this.ta)[q](function(b){var c=new cf;this.ta.get(b)[q](function(a){c.add(a[sb])});var d=a[h](function(a){return c.has(a[sb])});if(1<c[Ya]&&0<d[y])throw new P(507,b,d[F](","));},this)};Z[z].pf=function(a,b,c,d){this.nc(a);b=this.Ld(b,!0,d);this.Lh(a,b);c&&this.Ac.add(a);this.ta.set(a,b);return this};Z[z].addIndex=Z[z].pf;
Z[z].Lh=function(a,b){if(1<b[y]){var c=b[h](function(a){return this.Md.has(a[sb])},this);if(0<c[y])throw new P(507,a,c[F](","));}};Z[z].$b=Eb("Qd");Z[z].persistentIndex=Z[z].$b;Z[z].ub=function(){return new (this.$i())};Z[z].getSchema=Z[z].ub;Z[z].Qb=G("Nf");
Z[z].Ld=function(a,b,c,d){var g=a,g="string"==typeof a[0]?a.map(function(a){return new hi({name:a,order:c||1,autoIncrement:d||!1})}):a.map(function(a){return new hi(a)});g[q](function(a){if(!this.G.has(a[sb]))throw new P(508,this.B,a[sb]);if(b){var c=this.G.get(a[sb]);if(0==c||6==c)throw new P(509,this.B,a[sb]);}},this);return g};
Z[z].$i=function(){function a(){function a(c){return b.ta.get(c).map(function(a){return{ma:this[a[sb]],ob:a.ob,autoIncrement:a[Na]}},this)}var d=$e(b.G).map(function(a){this[a]=new Y(this,a,b.hf.has(a),b.Md.has(a),b.G.get(a));return this[a]},this),g=$e(b.ta).map(function(d){return new cg(b.B,d,b.Ac.has(d),a[D](this,d))},this);dg[D](this,b.B,d,g,b.Qd);var k=b.ta.has(b.xc)?new cg(b.B,b.xc,!0,a[D](this,b.xc)):null,m=d[h](function(a){return!b.Md.has(a[l]())}),p=df(b.Ac).map(function(d){return new cg(b.B,
d,!0,a[D](this,d))},this);this.Yh=new fi(k,m,b.Qb(),p);this.Kg=b.Wi(d,g)}var b=this;K(a,dg);a[z].Eb=function(a){return new this.Kg(cd++,a)};a[z].createRow=a[z].Eb;a[z].oc=function(a){var b={};this.sb()[q](function(g){var k=g[l]();g=g.$();var m=a[x][k];if(0==g)if(null===m)g=m;else if(g=m,""==g)g=null;else{0!=g[y]%2&&(g="0"+g);for(var m=new ArrayBuffer(g[y]/2),p=new Uint8Array(m),B=0,Ta=0;B<g[y];B+=2)p[Ta++]=ga(g.substr(B,2),16);g=m}else g=2==g?null===m?m:new Date(m):m;b[k]=g},this);return new this.Kg(a.id,
b)};a[z].deserializeRow=a[z].oc;a[z].Gb=G("Yh");a[z].getConstraint=a[z].Gb;return a};
Z[z].Wi=function(a,b){function c(c,d){this.G=a;this.ta=b;bd[D](this,c,d)}K(c,bd);c[z].Hf=function(){var a={};this.G[q](function(b){a[b[l]()]=b.vc()?null:Ud[b.$()]});return a};c[z].Vg=function(){var a={};this.G[q](function(b){var c=b[l]();b=b.$();var d=this.u()[c];a[c]=0==b?null===d?d:fd(d):2==b?null===d?d:d[Qa]():d},this);return a};var d=J(function(a){var b=this.G.get(a[l]());return 2==b?function(b){b=b[a[l]()];return a.vc()&&null===b?null:b[Qa]()}:1==b?function(b){return a.vc()?(b=b[a[l]()],null===
b?null:b?1:0):b[a[l]()]?1:0}:function(b){return b[a[l]()]}},this),g=J(function(a){var b=a.map(function(a){return d(a.ma)});return function(a){return b.map(function(b){return b(a)})}},this),k={};b[q](function(a){var b=a.l();a=1==a.h[y]?d(a.h[0].ma):g(a.h);k[b]=a});c[z].Yc=function(a){return-1!=a[pb]("#")?this.id():k[bb](a)?k[a](this.u()):null};return c};
function ji(a,b){this.s=new ki(a,b);this.Na=new N;this.Pc=!1}I("lf.schema.Builder",ji,void 0);H=ji[z];H.Jh=function(a){a.Qb()[q](function(b){var c=b.Xb;if(!this.Na.A(c))throw new P(536,b.Fb);var c=this.Na.get(c).ub(),d=b.Ib;if(!c[bb](d))throw new P(537,b.Fb);if(a.ub()[b.Cb].$()!=c[d].$())throw new P(538,b.Fb);if(!c[d].Xc())throw new P(539,b.Fb);},this)};H.Ih=function(a){a.Qb()[q](function(a){this.Na.get(a.Xb).Qb()[q](function(c){if(c.Cb==a.Ib)throw new P(534,a.Fb);},this)},this)};
H.Gk=function(a){var b=[];this.Na.c()[q](function(c){c.Qb()[h](function(c){c.Xb==a[l]()&&b[v](c)})});a.Hk(b)};H.Gi=function(){this.Pc||(this.Na.c()[q](function(a){this.Jh(a);this.s.Ik(a.ub())},this),this.Na.c()[q](this.Ih,this),this.Na.H()[q](this.Xh,this),this.s.Ya()[q](this.Gk,this),this.Hh(),this.Na[Pa](),this.Pc=!0)};H.Xh=function(a){this.Na.get(a).Qb()[q](function(b){var c=this.s.F.get(a),d=this.s.F.get(b.Xb);c[b.Cb].Zd(d[b.Ib]);var g=d[b.Ib].N()||[];g[v](c[b.Cb]);d[b.Ib].Fk(g)},this)};
H.Bf=function(a,b){a.lf||(a.lf=!0,a.Qe=!0,a.Kf[q](function(c){c=b.get(c);if(!c.lf)this.Bf(c,b);else if(c.Qe&&a!=c)throw new P(533);},this));a.Qe=!1};H.Hh=function(){var a=new Ze;this.s.F.H()[q](function(b){a.set(b,new li(b))},this);this.Na[q](function(b,c){b.Qb()[q](function(b){a.get(b.Xb).Kf.add(c)})});af(a)[q](function(b){this.Bf(b,a)},this)};function li(a){this.Qe=this.lf=!1;this.Kf=new cf;this.ef=a}H.ub=function(){this.Pc||this.Gi();return this.s};ji[z].getSchema=ji[z].ub;
ji[z].Tf=function(){var a=new wd("ns_"+this.s[sb]()),b;ei||(ei=new di);b=ei;var c=null;b.Le(a)?c=b.o(a):(c=new di,b.pb(a,c));return c};ji[z].getGlobal=ji[z].Tf;ji[z].connect=function(a){var b=this.Tf();b.Le(Dd)||b.pb(Dd,this.ub());return(new X(b)).Ea(a)};ji[z].connect=ji[z].connect;ji[z].di=function(a){if(this.Na.A(a))throw new P(503,a);if(this.Pc)throw new P(535);this.Na.set(a,new Z(a));return this.Na.get(a)};ji[z].createTable=ji[z].di;
ji[z].df=function(a){if(this.Pc)throw new P(535);this.s.df(a);return this};ji[z].setPragma=ji[z].df;function ki(a,b){this.B=a;this.Pa=b;this.F=new N;this.Bg={li:!1}}I("lf.schema.DatabaseSchema",ki,void 0);Aa(ki[z],G("B"));Aa(ki[z],ki[z][sb]);ki[z].version=G("Pa");ki[z].version=ki[z][Fa];ki[z].Ya=function(){return this.F.c()};ki[z].tables=ki[z].Ya;pa(ki[z],function(a){if(!this.F.A(a))throw new P(101,a);return this.F.get(a)});pa(ki[z],ki[z][u]);ki[z].Ik=function(a){this.F.set(a[l](),a)};ki[z].Ag=G("Bg");
ki[z].pragma=ki[z].Ag;ki[z].df=Eb("Bg");I("lf.schema.create",function(a,b){return new ji(a,b)},void 0);}.bind(window))()
